{"remainingRequest":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\views\\sys\\user-manage\\userManage.vue?vue&type=template&id=e44ed6d8&","dependencies":[{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\views\\sys\\user-manage\\userManage.vue","mtime":1546399439864},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545803981415},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545803981415},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"search\">\n    <Row>\n        <Col>\n            <Card>\n                <Row>\n                    <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"70\" class=\"search-form\">\n                        <Form-item label=\"用户名称\" prop=\"username\">\n                          <Input type=\"text\" v-model=\"searchForm.username\" clearable placeholder=\"请输入用户名\" style=\"width: 200px\"/>\n                        </Form-item>\n                        <Form-item label=\"部门\" prop=\"department\">\n                          <Cascader v-model=\"selectDep\" :data=\"department\" :load-data=\"loadData\" @on-change=\"handleChangeDep\" change-on-select filterable placeholder=\"请选择或输入搜索部门\" style=\"width: 200px\"></Cascader>\n                        </Form-item>\n                        <span v-if=\"drop\">\n                          <Form-item label=\"手机号\" prop=\"mobile\">\n                            <Input type=\"text\" v-model=\"searchForm.mobile\" clearable placeholder=\"请输入手机号\" style=\"width: 200px\"/>\n                          </Form-item>\n                          <Form-item label=\"邮箱\" prop=\"email\">\n                            <Input type=\"text\" v-model=\"searchForm.email\" clearable placeholder=\"请输入邮箱\" style=\"width: 200px\"/>\n                          </Form-item>\n                          <Form-item label=\"性别\" prop=\"sex\">\n                            <Select v-model=\"searchForm.sex\" placeholder=\"请选择\" clearable style=\"width: 200px\">\n                              <Option v-for=\"(item, i) in dictSex\" :key=\"i\" :value=\"item.value\">{{item.title}}</Option>\n                            </Select>\n                          </Form-item>\n                          <Form-item label=\"用户类型\" prop=\"type\">\n                            <Select v-model=\"searchForm.type\" placeholder=\"请选择\" clearable style=\"width: 200px\">\n                              <Option value=\"0\">普通用户</Option>\n                              <Option value=\"1\">管理员</Option>\n                            </Select>\n                          </Form-item>\n                          <Form-item label=\"用户状态\" prop=\"status\">\n                            <Select v-model=\"searchForm.status\" placeholder=\"请选择\" clearable style=\"width: 200px\">\n                              <Option value=\"0\">正常</Option>\n                              <Option value=\"-1\">禁用</Option>\n                            </Select>\n                          </Form-item>\n                          <Form-item label=\"创建时间\">\n                            <DatePicker v-model=\"selectDate\" type=\"daterange\" format=\"yyyy-MM-dd\" clearable @on-change=\"selectDateRange\" placeholder=\"选择起始时间\" style=\"width: 200px\"></DatePicker>\n                          </Form-item>\n                        </span>\n                        <Form-item style=\"margin-left:-35px;\" class=\"br\">\n                          <Button @click=\"handleSearch\" type=\"primary\" icon=\"ios-search\">搜索</Button>\n                          <Button @click=\"handleReset\" >重置</Button>\n                          <a class=\"drop-down\" @click=\"dropDown\">{{dropDownContent}}\n                            <Icon :type=\"dropDownIcon\"></Icon>\n                          </a>\n                        </Form-item>\n                    </Form>\n                </Row>\n                <Row class=\"operation\">\n                    <Button @click=\"add\" type=\"primary\" icon=\"md-add\">添加用户</Button>\n                    <Button @click=\"delAll\" icon=\"md-trash\">批量删除</Button>\n                    <Dropdown @on-click=\"handleDropdown\">\n                      <Button>\n                          更多操作\n                          <Icon type=\"md-arrow-dropdown\" />\n                      </Button>\n                      <DropdownMenu slot=\"list\">\n                          <DropdownItem name=\"refresh\">刷新</DropdownItem>\n                          <DropdownItem name=\"exportData\">导出所选数据</DropdownItem>\n                          <DropdownItem name=\"exportAll\">导出全部数据</DropdownItem>\n                          <DropdownItem name=\"importData\">导入数据(付费)</DropdownItem>\n                      </DropdownMenu>\n                    </Dropdown>\n                    <circleLoading v-if=\"operationLoading\"/>\n                </Row>\n                <Row>\n                    <Alert show-icon>\n                        已选择 <span class=\"select-count\">{{selectCount}}</span> 项\n                        <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\n                    </Alert>\n                </Row>\n                <Row>\n                    <Table :loading=\"loading\" border :columns=\"columns\" :data=\"data\" sortable=\"custom\" @on-sort-change=\"changeSort\" @on-selection-change=\"showSelect\" ref=\"table\"></Table>\n                </Row>\n                <Row type=\"flex\" justify=\"end\" class=\"page\">\n                    <Page :current=\"searchForm.pageNumber\" :total=\"total\" :page-size=\"searchForm.pageSize\" @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" :page-size-opts=\"[10,20,50]\" size=\"small\" show-total show-elevator show-sizer></Page>\n                </Row>\n            </Card>\n        </Col>\n    </Row>\n    <Modal :title=\"modalTitle\" v-model=\"userModalVisible\" :mask-closable='false' :width=\"500\" :styles=\"{top: '30px'}\">\n        <Form ref=\"userForm\" :model=\"userForm\" :label-width=\"70\" :rules=\"userFormValidate\">\n            <FormItem label=\"用户名\" prop=\"username\">\n                <Input v-model=\"userForm.username\" autocomplete=\"off\"/>\n            </FormItem>\n            <FormItem label=\"密码\" prop=\"password\" v-if=\"modalType===0\" :error=\"errorPass\">\n                <Input type=\"password\" v-model=\"userForm.password\" autocomplete=\"off\"/>\n            </FormItem>\n            <FormItem label=\"邮箱\" prop=\"email\">\n                <Input v-model=\"userForm.email\"/>\n            </FormItem>\n            <FormItem label=\"手机号\" prop=\"mobile\">\n                <Input v-model=\"userForm.mobile\"/>\n            </FormItem>\n            <FormItem label=\"性别\" prop=\"sex\">\n              <RadioGroup v-model=\"userForm.sex\">\n                <Radio v-for=\"(item, i) in dictSex\" :key=\"i\" :label=\"Number(item.value)\">{{item.title}}</Radio>\n              </RadioGroup>\n            </FormItem>\n            <Form-item label=\"头像\" prop=\"avatar\">\n              <Poptip trigger=\"hover\" title=\"图片预览\" placement=\"right\" width=\"350\">\n                  <Input v-model=\"userForm.avatar\" placeholder=\"可直接填入网络图片链接\" clearable/>\n                  <div slot=\"content\">\n                    <img :src=\"userForm.avatar\" alt=\"无效的图片链接\" style=\"width: 100%;margin: 0 auto;display: block;\">\n                    <a @click=\"viewPic()\" style=\"margin-top:5px;text-align:right;display:block\">查看原图</a>\n                  </div>\n              </Poptip>\n              <Upload :action=\"uploadFileUrl\"\n                      :headers=\"accessToken\" \n                      :on-success=\"handleSuccess\"\n                      :on-error=\"handleError\"\n                      :format=\"['jpg','jpeg','png','gif']\"\n                      :max-size=\"5120\"\n                      :on-format-error=\"handleFormatError\"\n                      :on-exceeded-size=\"handleMaxSize\"\n                      :before-upload=\"beforeUpload\"\n                      ref=\"up\"\n                      class=\"upload\">\n                <Button icon=\"ios-cloud-upload-outline\">上传图片</Button>\n              </Upload>\n            </Form-item>\n            <Form-item label=\"所属部门\" prop=\"departmentTitle\">\n              <Poptip trigger=\"click\" placement=\"right\" title=\"选择部门\" width=\"250\">\n                <div style=\"display:flex;\">\n                  <Input v-model=\"userForm.departmentTitle\" readonly style=\"margin-right:10px;\"/>\n                  <Button icon=\"md-trash\" @click=\"clearSelectDep\">清空已选</Button>\n                </div>\n                <div slot=\"content\" class=\"tree-bar\">\n                  <Input v-model=\"searchKey\" suffix=\"ios-search\" @on-change=\"searchDp\" placeholder=\"输入部门名搜索\" clearable/>\n                  <Tree :data=\"dataDep\" :load-data=\"loadDataTree\" @on-select-change=\"selectTree\"></Tree>\n                  <Spin size=\"large\" fix v-if=\"dpLoading\"></Spin>\n                </div>\n              </Poptip>\n            </Form-item>\n            <FormItem label=\"用户类型\" prop=\"type\">\n              <Select v-model=\"userForm.type\" placeholder=\"请选择\">\n                <Option :value=\"0\">普通用户</Option>\n                <Option :value=\"1\">管理员</Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"角色分配\" prop=\"roles\">\n              <Select v-model=\"userForm.roles\" multiple>\n                <Option v-for=\"item in roleList\" :value=\"item.id\" :key=\"item.id\" :label=\"item.name\">\n                  <!-- <div style=\"display:flex;flex-direction:column\"> -->\n                  <span style=\"margin-right:10px;\">{{ item.name }}</span>\n                  <span style=\"color:#ccc;\">{{ item.description }}</span>\n                  <!-- </div> -->\n                </Option>\n              </Select>\n            </FormItem>\n        </Form>\n        <div slot=\"footer\">\n            <Button type=\"text\" @click=\"cancelUser\">取消</Button>\n            <Button type=\"primary\" :loading=\"submitLoading\" @click=\"submitUser\">提交</Button>\n        </div>\n    </Modal>\n    <Modal title=\"图片预览\" v-model=\"viewImage\" :styles=\"{top: '30px'}\" draggable>\n      <img :src=\"userForm.avatar\" alt=\"无效的图片链接\" style=\"width: 100%;margin: 0 auto;display: block;\">\n      <div slot=\"footer\">\n        <Button @click=\"viewImage=false\">关闭</Button>\n      </div>\n    </Modal>\n    <!-- 自定义导出数据 -->\n    <Modal\n        v-model=\"exportModalVisible\"\n        :title=\"exportTitle\"\n        :loading=\"loadingExport\"\n        @on-ok=\"exportCustomData\">\n        <Form ref=\"exportForm\" :label-width=\"85\">\n          <FormItem label=\"导出文件名\">\n            <Input v-model=\"filename\"/>\n          </FormItem>\n          <FormItem label=\"自定义导出列\">\n            <CheckboxGroup v-model=\"chooseColumns\">\n              <Checkbox v-for=\"(item, i) in exportColumns\" :label=\"item.title\" :key=\"i\" :value=\"item.checked\" :disabled=\"item.disabled\"></Checkbox>\n            </CheckboxGroup>\n          </FormItem>\n        </Form>\n    </Modal>\n    <Drawer title=\"导入数据\" closable v-model=\"importModalVisible\" width=\"1000\">\n      <Upload action=\"\" :before-upload=\"beforeUploadImport\" accept=\".xls, .xlsx\">\n        <Button icon=\"ios-cloud-upload-outline\" style=\"margin-right:10px\">上传Excel文件</Button>\n        <span v-if=\"uploadfile.name!=''\">当前选择文件：{{ uploadfile.name }}</span>\n      </Upload>\n      <Alert type=\"warning\" show-icon>\n        导入前请下载查看导入模版数据文件，确保数据格式正确，不得修改列英文名称。必需数据字段：用户名(唯一)、密码(明文)\n      </Alert>\n      <Table :columns=\"importColumns\" border height=\"510\" :data=\"importTableData\" ref=\"importTable\"></Table>\n      <div class=\"drawer-footer\">\n        <Button @click=\"downloadTemple\" type=\"info\" style=\"position:absolute;left:15px;\">下载导入模板</Button>\n        <Button @click=\"importModalVisible=false\">关闭</Button>\n        <Button :loading=\"importLoading\" :disabled=\"importTableData.length<=0\" @click=\"importData\" style=\"margin-left:5px\" type=\"primary\">\n          确认导入<span v-if=\"importTableData.length>0\"> {{importTableData.length}} 条数据</span>\n        </Button>\n      </div>\n    </Drawer>\n</div>\n",null]}