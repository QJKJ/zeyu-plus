{"remainingRequest":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\views\\sys\\oss-manage\\ossManage.vue?vue&type=template&id=d0302978&","dependencies":[{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\views\\sys\\oss-manage\\ossManage.vue","mtime":1545792990780},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545803981415},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545803981415},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"search\">\n  <Row>\n    <Col>\n      <Card>\n        <div class=\"operation\">\n          <Row>\n            <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"75\" class=\"search-form\">\n              <Form-item label=\"原文件名\" prop=\"name\">\n                <Input type=\"text\" v-model=\"searchForm.name\" placeholder=\"请输入\" clearable style=\"width: 200px\"/>\n              </Form-item>\n              <Form-item label=\"存储文件名\" prop=\"name\">\n                <Input type=\"text\" v-model=\"searchForm.fkey\" placeholder=\"请输入\" clearable style=\"width: 200px\"/>\n              </Form-item>\n              <Form-item label=\"创建时间\">\n                <DatePicker v-model=\"selectDate\" type=\"daterange\" format=\"yyyy-MM-dd\" clearable @on-change=\"selectDateRange\" placeholder=\"选择起始时间\" style=\"width: 200px\"></DatePicker>\n              </Form-item>\n              <Form-item style=\"margin-left:-35px;\" class=\"br\">\n                <Button @click=\"handleSearch\" type=\"primary\" icon=\"ios-search\">搜索</Button>\n                <Button @click=\"handleReset\" >重置</Button>\n              </Form-item>\n            </Form>\n          </Row>\n          <div class=\"oss-operation\">\n            <div>\n              <Button @click=\"uploadVisible=true\" type=\"primary\" icon=\"md-cloud-upload\">上传文件</Button>\n              <Button v-if=\"showType=='list'\" @click=\"removeAll\" icon=\"md-trash\">批量删除</Button>\n              <Button @click=\"getDataList\" icon=\"md-refresh\">刷新</Button>\n              <circleLoading v-if=\"operationLoading\"/>\n            </div>\n\n            <div>\n              <RadioGroup v-model=\"fileType\" @on-change=\"changeFileType\" type=\"button\" style=\"margin-right:25px\">\n                <Radio label=\"all\">所有文件</Radio>\n                <Radio label=\"pic\">图片</Radio>\n                <Radio label=\"video\">视频</Radio>\n              </RadioGroup>\n              <RadioGroup v-model=\"showType\" type=\"button\" @on-change=\"changeShowType\">\n                <Radio title=\"列表\" label=\"list\"><Icon type=\"md-list\" style=\"margin-bottom:3px;\"></Icon></Radio>\n                <Radio title=\"缩略图\" label=\"thumb\"><Icon type=\"ios-apps\" style=\"margin-bottom:3px;\"></Icon></Radio>\n              </RadioGroup>\n            </div>\n          </div>\n        </div>\n\n        <div v-if=\"showType=='list'\">\n          <Row>\n            <Alert show-icon>\n              已选择 <span class=\"select-count\">{{selectCount}}</span> 项\n              <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a> \n              <span v-if=\"selectCount>0\" style=\"margin-left:15px\">共计 {{totalSize}} 存储量</span>\n            </Alert>\n          </Row>\n          <Row>\n            <Table :loading=\"loading\" border :columns=\"columns\" :data=\"data\" ref=\"table\" sortable=\"custom\" @on-sort-change=\"changeSort\" @on-selection-change=\"changeSelect\"></Table>\n          </Row>\n        </div>\n        <div v-if=\"showType=='thumb'\">\n          <div class=\"oss-wrapper\">\n            <Card v-for=\"(item, i) in data\" :key=\"i\" class=\"oss-card\">\n              <div class=\"content\">\n                <img @click=\"showPic(item)\" v-if=\"item.type.indexOf('image')>=0\" class=\"img\" :src=\"item.url\">\n                <div v-else-if=\"item.type.indexOf('video')>=0\" class=\"video\" @click=\"showVideo(item)\">\n                  <video class=\"cover\">\n                    <source :src=\"item.url\"></source>\n                  </video>\n                  <img class=\"play\" src=\"@/assets/play.png\"/>\n                </div>\n                <div v-else class=\"other\">\n                  <div class=\"name\">{{item.name}}</div>\n                  <div class=\"key\">{{item.fkey}}</div>\n                  <div class=\"info\">文件类型：{{item.type}} 文件大小：{{((item.size * 1.0) / (1024 * 1024)).toFixed(2)}} MB 创建时间：{{item.createTime}}</div>\n                </div>\n                <div class=\"actions\">\n                  <div class=\"btn\">\n                    <Tooltip content=\"下载\" placement=\"top\">\n                        <Icon @click=\"download(item)\" type=\"md-download\" size=\"16\"/>\n                    </Tooltip>\n                  </div>\n                  <div class=\"btn\">\n                    <Tooltip content=\"重命名\" placement=\"top\">\n                        <Icon @click=\"rename(item)\" type=\"md-create\" size=\"16\"/>\n                    </Tooltip>\n                  </div>\n                  <div class=\"btn\">\n                    <Tooltip content=\"复制\" placement=\"top\">\n                        <Icon @click=\"copy(item)\" type=\"md-copy\" size=\"16\"/>\n                    </Tooltip></div>\n                  <div class=\"btn-no\">\n                    <Tooltip content=\"删除\" placement=\"top\">\n                        <Icon @click=\"remove(item)\" type=\"md-trash\" size=\"16\"/>\n                    </Tooltip>\n                  </div>\n                </div>\n              </div>\n            </Card>\n          </div>\n        </div>\n        <Row type=\"flex\" justify=\"end\" class=\"page\">\n          <Page :current=\"searchForm.pageNumber\" :total=\"total\" :page-size=\"searchForm.pageSize\" @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" :page-size-opts=\"pageSizeOpts\" size=\"small\" show-total show-elevator show-sizer></Page>\n        </Row>\n      </Card>\n    </Col>\n  </Row>\n\n  <Drawer title=\"文件上传\" closable v-model=\"uploadVisible\" width=\"500\">\n    <Upload action=\"/xboot/upload/file\"\n      :headers=\"accessToken\" \n      :on-success=\"handleSuccess\"\n      :on-error=\"handleError\"\n      :max-size=\"5120\"\n      :on-exceeded-size=\"handleMaxSize\"\n      :before-upload=\"beforeUpload\"\n      multiple\n      type=\"drag\"\n      ref=\"up\"\n      >\n      <div style=\"padding: 20px 0\">\n        <Icon type=\"ios-cloud-upload\" size=\"52\" style=\"color: #3399ff\"></Icon>\n        <p>点击这里或将文件拖拽到这里上传</p>\n      </div>\n    </Upload>\n    <div class=\"drawer-footer\">\n      <Button @click=\"clearFiles\">清空上传列表</Button>\n    </div>\n  </Drawer>\n  \n  <Modal :title=\"modalTitle\" v-model=\"modalVisible\" :mask-closable='false' :width=\"500\">\n    <Form ref=\"form\" :model=\"form\" :label-width=\"85\" :rules=\"formValidate\">\n      <FormItem label=\"原文件名\" prop=\"name\">\n        <Input v-model=\"form.name\"/>\n      </FormItem>\n      <FormItem label=\"存储文件名\" prop=\"fkey\">\n        <Input v-model=\"form.fkey\"/>\n      </FormItem>\n    </Form>\n    <div slot=\"footer\">\n      <Button type=\"text\" @click=\"handleCancel\">取消</Button>\n      <Button type=\"primary\" :loading=\"submitLoading\" @click=\"handleSubmit\">提交</Button>\n    </div>\n  </Modal>\n\n  <Modal\n    v-model=\"picVisible\"\n    :title=\"picTitle\"\n    draggable>\n    <img :src=\"file.url\" alt=\"无效的图片链接\" style=\"width: 100%;margin: 0 auto;display: block;\">\n    <div slot=\"footer\">\n      <span>文件类型：{{file.type}} 文件大小：{{file.msize}} 创建时间：{{file.createTime}}</span>\n    </div>\n  </Modal>\n\n  <Modal\n    v-model=\"videoVisible\"\n    :title=\"videoTitle\"\n    :width=\"800\"\n    draggable>\n    <div id=\"dplayer\"></div>\n    <div slot=\"footer\">\n      <span>文件类型：{{file.type}} 文件大小：{{file.msize}} 创建时间：{{file.createTime}}</span>\n    </div>\n  </Modal>\n</div>\n",null]}