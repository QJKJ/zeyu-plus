{"remainingRequest":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\views\\sys\\social-manage\\socialManage.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\views\\sys\\social-manage\\socialManage.vue","mtime":1545792990782},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\less-loader\\dist\\cjs.js","mtime":1545803960479},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545803981415},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\n@import \"./socialManage.less\";\r\n",{"version":3,"sources":["socialManage.vue"],"names":[],"mappings":";AACA","file":"socialManage.vue","sourceRoot":"src\\views\\sys\\social-manage","sourcesContent":["<style lang=\"less\">\r\n@import \"./socialManage.less\";\r\n</style>\r\n<template>\r\n    <div class=\"search\">\r\n        <Row>\r\n            <Col>\r\n                <Card>\r\n                  <Tabs v-model=\"tabName\" :animated=\"false\">\r\n                      <TabPane label=\"Github\" name=\"github\">\r\n                        <Row>\r\n                            <Form ref=\"githubForm\" :model=\"github\" inline :label-width=\"85\" class=\"search-form\">\r\n                                <Form-item label=\"社交账号昵称\" prop=\"username\">\r\n                                  <Input type=\"text\" v-model=\"github.username\" placeholder=\"请输入第三方社交账号昵称\" clearable style=\"width: 200px\"/>\r\n                                </Form-item>\r\n                                <Form-item label=\"绑定用户名\" prop=\"relateUsername\">\r\n                                  <Input type=\"text\" v-model=\"github.relateUsername\" placeholder=\"请输入绑定系统用户名\" clearable style=\"width: 200px\"/>\r\n                                </Form-item>\r\n                                <Form-item label=\"创建时间\">\r\n                                  <DatePicker v-model=\"github.selectDate\" type=\"daterange\" format=\"yyyy-MM-dd\" clearable @on-change=\"selectDateRange\" placeholder=\"选择起始时间\" style=\"width: 200px\"></DatePicker>\r\n                                </Form-item>\r\n                                <Form-item style=\"margin-left:-35px;\" class=\"br\">\r\n                                  <Button @click=\"handleSearch\" type=\"primary\" icon=\"ios-search\">搜索</Button>\r\n                                  <Button @click=\"handleReset\" >重置</Button>\r\n                                </Form-item>\r\n                            </Form>\r\n                        </Row>\r\n                        <Row class=\"operation\">\r\n                            <Button @click=\"delAll\" icon=\"md-trash\">批量删除解绑</Button>\r\n                            <Button @click=\"getDataList\" icon=\"md-refresh\">刷新</Button>\r\n                            <circleLoading v-if=\"operationLoading\"/>\r\n                        </Row>\r\n                        <Row>\r\n                            <Alert show-icon>\r\n                                已选择 <span class=\"select-count\">{{github.selectCount}}</span> 项\r\n                                <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n                            </Alert>\r\n                        </Row>\r\n                        <Row>\r\n                            <Table :loading=\"github.loading\" border :columns=\"columns\" :data=\"github.data\" sortable=\"custom\" @on-sort-change=\"changeSort\" @on-selection-change=\"showSelect\" ref=\"githubTable\"></Table>\r\n                        </Row>\r\n                        <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n                            <Page :current=\"github.pageNumber\" :total=\"github.total\" :page-size=\"github.pageSize\" @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" :page-size-opts=\"[10,20,50]\" size=\"small\" show-total show-elevator show-sizer></Page>\r\n                        </Row>\r\n                      </TabPane>\r\n                      <TabPane label=\"QQ\" name=\"qq\">\r\n                        <Row>\r\n                            <Form ref=\"qqForm\" :model=\"qq\" inline :label-width=\"85\" class=\"search-form\">\r\n                                <Form-item label=\"社交账号昵称\" prop=\"username\">\r\n                                  <Input type=\"text\" v-model=\"qq.username\" placeholder=\"请输入第三方社交账号昵称\" clearable style=\"width: 200px\"/>\r\n                                </Form-item>\r\n                                <Form-item label=\"绑定用户名\" prop=\"relateUsername\">\r\n                                  <Input type=\"text\" v-model=\"qq.relateUsername\" placeholder=\"请输入绑定系统用户名\" clearable style=\"width: 200px\"/>\r\n                                </Form-item>\r\n                                <Form-item label=\"创建时间\">\r\n                                  <DatePicker v-model=\"qq.selectDate\" type=\"daterange\" format=\"yyyy-MM-dd\" clearable @on-change=\"selectDateRange\" placeholder=\"选择起始时间\" style=\"width: 200px\"></DatePicker>\r\n                                </Form-item>\r\n                                <Form-item style=\"margin-left:-35px;\" class=\"br\">\r\n                                  <Button @click=\"handleSearch\" type=\"primary\" icon=\"ios-search\">搜索</Button>\r\n                                  <Button @click=\"handleReset\" >重置</Button>\r\n                                </Form-item>\r\n                            </Form>\r\n                        </Row>\r\n                        <Row class=\"operation\">\r\n                            <Button @click=\"delAll\" icon=\"md-trash\">批量删除解绑</Button>\r\n                            <Button @click=\"getDataList\" icon=\"md-refresh\">刷新</Button>\r\n                            <circleLoading v-if=\"operationLoading\"/>\r\n                        </Row>\r\n                        <Row>\r\n                            <Alert show-icon>\r\n                                已选择 <span class=\"select-count\">{{qq.selectCount}}</span> 项\r\n                                <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n                            </Alert>\r\n                        </Row>\r\n                        <Row>\r\n                            <Table :loading=\"qq.loading\" border :columns=\"columns\" :data=\"qq.data\" sortable=\"custom\" @on-sort-change=\"changeSort\" @on-selection-change=\"showSelect\" ref=\"qqTable\"></Table>\r\n                        </Row>\r\n                        <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n                            <Page :current=\"qq.pageNumber\" :total=\"qq.total\" :page-size=\"qq.pageSize\" @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" :page-size-opts=\"[10,20,50]\" size=\"small\" show-total show-elevator show-sizer></Page>\r\n                        </Row>\r\n                      </TabPane>\r\n                      <TabPane label=\"微博\" name=\"weibo\">\r\n                        <Row>\r\n                            <Form ref=\"weiboForm\" :model=\"weibo\" inline :label-width=\"85\" class=\"search-form\">\r\n                                <Form-item label=\"社交账号昵称\" prop=\"username\">\r\n                                  <Input type=\"text\" v-model=\"weibo.username\" placeholder=\"请输入第三方社交账号昵称\" clearable style=\"width: 200px\"/>\r\n                                </Form-item>\r\n                                <Form-item label=\"绑定用户名\" prop=\"relateUsername\">\r\n                                  <Input type=\"text\" v-model=\"weibo.relateUsername\" placeholder=\"请输入绑定系统用户名\" clearable style=\"width: 200px\"/>\r\n                                </Form-item>\r\n                                <Form-item label=\"创建时间\">\r\n                                  <DatePicker v-model=\"weibo.selectDate\" type=\"daterange\" format=\"yyyy-MM-dd\" clearable @on-change=\"selectDateRange\" placeholder=\"选择起始时间\" style=\"width: 200px\"></DatePicker>\r\n                                </Form-item>\r\n                                <Form-item style=\"margin-left:-35px;\" class=\"br\">\r\n                                  <Button @click=\"handleSearch\" type=\"primary\" icon=\"ios-search\">搜索</Button>\r\n                                  <Button @click=\"handleReset\" >重置</Button>\r\n                                </Form-item>\r\n                            </Form>\r\n                        </Row>\r\n                        <Row class=\"operation\">\r\n                            <Button @click=\"delAll\" icon=\"md-trash\">批量删除解绑</Button>\r\n                            <Button @click=\"getDataList\" icon=\"md-refresh\">刷新</Button>\r\n                            <circleLoading v-if=\"operationLoading\"/>\r\n                        </Row>\r\n                        <Row>\r\n                            <Alert show-icon>\r\n                                已选择 <span class=\"select-count\">{{weibo.selectCount}}</span> 项\r\n                                <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n                            </Alert>\r\n                        </Row>\r\n                        <Row>\r\n                            <Table :loading=\"weibo.loading\" border :columns=\"columns\" :data=\"weibo.data\" sortable=\"custom\" @on-sort-change=\"changeSort\" @on-selection-change=\"showSelect\" ref=\"weiboTable\"></Table>\r\n                        </Row>\r\n                        <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n                            <Page :current=\"weibo.pageNumber\" :total=\"weibo.total\" :page-size=\"weibo.pageSize\" @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" :page-size-opts=\"[10,20,50]\" size=\"small\" show-total show-elevator show-sizer></Page>\r\n                        </Row>\r\n                      </TabPane>\r\n                  </Tabs>\r\n                </Card>\r\n            </Col>\r\n        </Row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getRelatedListData, unRelate } from \"@/api/index\";\r\nimport circleLoading from \"../../my-components/circle-loading.vue\";\r\nexport default {\r\n  name: \"social-manage\",\r\n  components: {\r\n    circleLoading\r\n  },\r\n  data() {\r\n    return {\r\n      tabName: \"github\",\r\n      operationLoading: false,\r\n      github: {\r\n        // 搜索框对应data对象\r\n        username: \"\",\r\n        relateUsername: \"\",\r\n        pageNumber: 1, // 当前页数\r\n        pageSize: 10, // 页面大小\r\n        sort: \"createTime\", // 默认排序字段\r\n        order: \"desc\", // 默认排序方式\r\n        startDate: \"\", // 起始时间\r\n        endDate: \"\", // 终止时间\r\n        data: [],\r\n        total: 0,\r\n        selectDate: null,\r\n        loading: true, // 表单加载状态\r\n        selectCount: 0, // 多选计数\r\n        selectList: [] // 多选数据\r\n      },\r\n      qq: {\r\n        // 搜索框对应data对象\r\n        username: \"\",\r\n        relateUsername: \"\",\r\n        pageNumber: 1, // 当前页数\r\n        pageSize: 10, // 页面大小\r\n        sort: \"createTime\", // 默认排序字段\r\n        order: \"desc\", // 默认排序方式\r\n        startDate: \"\", // 起始时间\r\n        endDate: \"\", // 终止时间\r\n        data: [],\r\n        total: 0,\r\n        selectDate: null,\r\n        loading: true, // 表单加载状态\r\n        selectCount: 0, // 多选计数\r\n        selectList: [] // 多选数据\r\n      },\r\n      weibo: {\r\n        // 搜索框对应data对象\r\n        username: \"\",\r\n        relateUsername: \"\",\r\n        pageNumber: 1, // 当前页数\r\n        pageSize: 10, // 页面大小\r\n        sort: \"createTime\", // 默认排序字段\r\n        order: \"desc\", // 默认排序方式\r\n        startDate: \"\", // 起始时间\r\n        endDate: \"\", // 终止时间\r\n        data: [],\r\n        total: 0,\r\n        selectDate: null,\r\n        loading: true, // 表单加载状态\r\n        selectCount: 0, // 多选计数\r\n        selectList: [] // 多选数据\r\n      },\r\n      columns: [\r\n        // 表头\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\",\r\n          fixed: \"left\"\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\",\r\n          fixed: \"left\"\r\n        },\r\n        {\r\n          title: \"社交账号昵称\",\r\n          key: \"username\",\r\n          width: 180,\r\n          sortable: true,\r\n          fixed: \"left\",\r\n          render: (h, params) => {\r\n            if (this.$route.meta.permTypes.includes(\"view\")) {\r\n              return h(\"span\", params.row.username);\r\n            } else {\r\n              return h(\"span\", \"你无权查看该数据\");\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: \"头像\",\r\n          key: \"avatar\",\r\n          width: 80,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\"Avatar\", {\r\n              props: {\r\n                src: params.row.avatar\r\n              }\r\n            });\r\n          }\r\n        },\r\n        {\r\n          title: \"openID\",\r\n          key: \"openId\",\r\n          width: 200,\r\n          sortable: true,\r\n          render: (h, params) => {\r\n            if (this.$route.meta.permTypes.includes(\"view\")) {\r\n              return h(\"span\", params.row.openId);\r\n            } else {\r\n              return h(\"span\", \"你无权查看该数据\");\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: \"是否绑定用户\",\r\n          key: \"isRelated\",\r\n          width: 150,\r\n          align: \"center\",\r\n          sortable: true,\r\n          render: (h, params) => {\r\n            if (params.row.isRelated) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Tag\",\r\n                  {\r\n                    props: {\r\n                      color: \"blue\"\r\n                    }\r\n                  },\r\n                  \"已绑定\"\r\n                )\r\n              ]);\r\n            } else {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Tag\",\r\n                  {\r\n                    props: {\r\n                      color: \"default\"\r\n                    }\r\n                  },\r\n                  \"未绑定\"\r\n                )\r\n              ]);\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: \"绑定用户\",\r\n          key: \"relateUsername\",\r\n          width: 200,\r\n          sortable: true\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"createTime\",\r\n          width: 170,\r\n          sortable: true,\r\n          sortType: \"desc\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 180,\r\n          align: \"center\",\r\n          fixed: \"right\",\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    icon: \"md-link\",\r\n                    type: \"error\",\r\n                    size: \"small\"\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.remove(params.row);\r\n                    }\r\n                  }\r\n                },\r\n                \"删除解绑\"\r\n              )\r\n            ]);\r\n          }\r\n        }\r\n      ],\r\n      data: [], // 表单数据\r\n      total: 0 // 表单数据总数\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getDataList();\r\n      let str = JSON.stringify(this.qq);\r\n      let params = JSON.parse(str);\r\n      this.qq.loading = true;\r\n      params.socialType = 1;\r\n      delete params.selectDate;\r\n      delete params.data;\r\n      delete params.selectList;\r\n      getRelatedListData(params).then(res => {\r\n        this.qq.loading = false;\r\n        if (res.success === true) {\r\n          this.qq.data = res.result.content;\r\n          this.qq.total = res.result.totalElements;\r\n        }\r\n      });\r\n      str = JSON.stringify(this.weibo);\r\n      params = JSON.parse(str);\r\n      this.weibo.loading = true;\r\n      params.socialType = 2;\r\n      delete params.selectDate;\r\n      delete params.data;\r\n      delete params.selectList;\r\n      getRelatedListData(params).then(res => {\r\n        this.weibo.loading = false;\r\n        if (res.success === true) {\r\n          this.weibo.data = res.result.content;\r\n          this.weibo.total = res.result.totalElements;\r\n        }\r\n      });\r\n    },\r\n    changePage(v) {\r\n      if (this.tabName === \"github\") {\r\n        this.github.pageNumber = v;\r\n      } else if (this.tabName === \"qq\") {\r\n        this.qq.pageNumber = v;\r\n      } else if (this.tabName === \"weibo\") {\r\n        this.weibo.pageNumber = v;\r\n      }\r\n      this.getDataList();\r\n      this.clearSelectAll();\r\n    },\r\n    changePageSize(v) {\r\n      if (this.tabName === \"github\") {\r\n        this.github.pageSize = v;\r\n      } else if (this.tabName === \"qq\") {\r\n        this.qq.pageSize = v;\r\n      } else if (this.tabName === \"weibo\") {\r\n        this.weibo.pageSize = v;\r\n      }\r\n      this.getDataList();\r\n    },\r\n    selectDateRange(v) {\r\n      if (this.tabName === \"github\") {\r\n        this.github.startDate = v[0];\r\n        this.github.endDate = v[1];\r\n      } else if (this.tabName === \"qq\") {\r\n        this.qq.startDate = v[0];\r\n        this.qq.endDate = v[1];\r\n      } else if (this.tabName === \"weibo\") {\r\n        this.weibo.startDate = v[0];\r\n        this.weibo.endDate = v[1];\r\n      }\r\n    },\r\n    getDataList() {\r\n      let params = {};\r\n      if (this.tabName === \"github\") {\r\n        let str = JSON.stringify(this.github);\r\n        params = JSON.parse(str);\r\n        this.github.loading = true;\r\n        params.socialType = 0;\r\n      } else if (this.tabName === \"qq\") {\r\n        let str = JSON.stringify(this.qq);\r\n        params = JSON.parse(str);\r\n        this.qq.loading = true;\r\n        params.socialType = 1;\r\n      } else if (this.tabName === \"weibo\") {\r\n        let str = JSON.stringify(this.weibo);\r\n        params = JSON.parse(str);\r\n        this.weibo.loading = true;\r\n        params.socialType = 2;\r\n      }\r\n      delete params.selectDate;\r\n      delete params.data;\r\n      delete params.selectList;\r\n      getRelatedListData(params).then(res => {\r\n        if (res.success === true) {\r\n          if (this.tabName === \"github\") {\r\n            this.github.loading = false;\r\n            this.github.data = res.result.content;\r\n            this.github.total = res.result.totalElements;\r\n          } else if (this.tabName === \"qq\") {\r\n            this.qq.loading = false;\r\n            this.qq.data = res.result.content;\r\n            this.qq.total = res.result.totalElements;\r\n          } else if (this.tabName === \"weibo\") {\r\n            this.weibo.loading = false;\r\n            this.weibo.data = res.result.content;\r\n            this.weibo.total = res.result.totalElements;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    handleSearch() {\r\n      if (this.tabName === \"github\") {\r\n        this.github.pageNumber = 1;\r\n        this.github.pageSize = 10;\r\n      } else if (this.tabName === \"qq\") {\r\n        this.qq.pageNumber = 1;\r\n        this.qq.pageSize = 10;\r\n      } else if (this.tabName === \"weibo\") {\r\n        this.weibo.pageNumber = 1;\r\n        this.weibo.pageSize = 10;\r\n      }\r\n      this.getDataList();\r\n    },\r\n    handleReset() {\r\n      if (this.tabName === \"github\") {\r\n        this.$refs.githubForm.resetFields();\r\n        this.github.pageNumber = 1;\r\n        this.github.pageSize = 10;\r\n        this.github.selectDate = null;\r\n        this.github.startDate = \"\";\r\n        this.github.endDate = \"\";\r\n      } else if (this.tabName === \"qq\") {\r\n        this.$refs.qqForm.resetFields();\r\n        this.qq.pageNumber = 1;\r\n        this.qq.pageSize = 10;\r\n        this.qq.selectDate = null;\r\n        this.qq.startDate = \"\";\r\n        this.qq.endDate = \"\";\r\n      } else if (this.tabName === \"weibo\") {\r\n        this.$refs.weiboForm.resetFields();\r\n        this.weibo.pageNumber = 1;\r\n        this.weibo.pageSize = 10;\r\n        this.weibo.selectDate = null;\r\n        this.weibo.startDate = \"\";\r\n        this.weibo.endDate = \"\";\r\n      }\r\n      // 重新加载数据\r\n      this.getDataList();\r\n    },\r\n    changeSort(e) {\r\n      if (this.tabName === \"github\") {\r\n        this.github.sort = e.key;\r\n        this.github.order = e.order;\r\n        if (e.order === \"normal\") {\r\n          this.github.order = \"\";\r\n        }\r\n      } else if (this.tabName === \"qq\") {\r\n        this.qq.sort = e.key;\r\n        this.qq.order = e.order;\r\n        if (e.order === \"normal\") {\r\n          this.qq.order = \"\";\r\n        }\r\n      } else if (this.tabName === \"weibo\") {\r\n        this.weibo.sort = e.key;\r\n        this.weibo.order = e.order;\r\n        if (e.order === \"normal\") {\r\n          this.weibo.order = \"\";\r\n        }\r\n      }\r\n      this.getDataList();\r\n    },\r\n    remove(v) {\r\n      this.$Modal.confirm({\r\n        title: \"确认删除解绑\",\r\n        // 记得确认修改此处\r\n        content: \"您确认要删除解绑该条数据 ?\",\r\n        onOk: () => {\r\n          // 删除\r\n          let socialType;\r\n          if (this.tabName === \"github\") {\r\n            socialType = 0;\r\n          } else if (this.tabName === \"qq\") {\r\n            socialType = 1;\r\n          } else if (this.tabName === \"weibo\") {\r\n            socialType = 2;\r\n          }\r\n          let params = {\r\n            ids: v.id,\r\n            usernames: v.relateUsername,\r\n            socialType: socialType\r\n          };\r\n          this.operationLoading = true;\r\n          unRelate(params).then(res => {\r\n            this.operationLoading = false;\r\n            if (res.success === true) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.getDataList();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    showSelect(e) {\r\n      if (this.tabName === \"github\") {\r\n        this.github.selectList = e;\r\n        this.github.selectCount = e.length;\r\n      } else if (this.tabName === \"qq\") {\r\n        this.qq.selectList = e;\r\n        this.qq.selectCount = e.length;\r\n      } else if (this.tabName === \"weibo\") {\r\n        this.weibo.selectList = e;\r\n        this.weibo.selectCount = e.length;\r\n      }\r\n    },\r\n    clearSelectAll() {\r\n      if (this.tabName === \"github\") {\r\n        this.$refs.githubTable.selectAll(false);\r\n      } else if (this.tabName === \"qq\") {\r\n        this.$refs.qqTable.selectAll(false);\r\n      } else if (this.tabName === \"weibo\") {\r\n        this.$refs.weiboTable.selectAll(false);\r\n      }\r\n    },\r\n    delAll() {\r\n      let socialType;\r\n      if (this.tabName === \"github\") {\r\n        socialType = 0;\r\n        if (this.github.selectCount <= 0) {\r\n          this.$Message.warning(\"您还未选择要删除的数据\");\r\n          return;\r\n        }\r\n        this.$Modal.confirm({\r\n          title: \"确认删除解绑\",\r\n          content:\r\n            \"您确认要删除解绑所选的 \" + this.github.selectCount + \" 条数据?\",\r\n          onOk: () => {\r\n            let ids = \"\";\r\n            this.github.selectList.forEach(function(e) {\r\n              ids += e.id + \",\";\r\n            });\r\n            ids = ids.substring(0, ids.length - 1);\r\n            let usernames = \"\";\r\n            this.github.selectList.forEach(function(e) {\r\n              usernames += e.relateUsername + \",\";\r\n            });\r\n            usernames = usernames.substring(0, ids.length - 1);\r\n            let params = {\r\n              ids: ids,\r\n              usernames: usernames,\r\n              socialType: socialType\r\n            };\r\n            this.operationLoading = true;\r\n            unRelate(params).then(res => {\r\n              this.operationLoading = false;\r\n              if (res.success === true) {\r\n                this.$Message.success(\"操作成功\");\r\n                this.clearSelectAll();\r\n                this.getDataList();\r\n              }\r\n            });\r\n          }\r\n        });\r\n      } else if (this.tabName === \"qq\") {\r\n        socialType = 1;\r\n        if (this.qq.selectCount <= 0) {\r\n          this.$Message.warning(\"您还未勾选要删除的数据\");\r\n          return;\r\n        }\r\n        this.$Modal.confirm({\r\n          title: \"确认删除解绑\",\r\n          content: \"您确认要删除解绑所选的 \" + this.qq.selectCount + \" 条数据?\",\r\n          onOk: () => {\r\n            let ids = \"\";\r\n            this.qq.selectList.forEach(function(e) {\r\n              ids += e.id + \",\";\r\n            });\r\n            ids = ids.substring(0, ids.length - 1);\r\n            let usernames = \"\";\r\n            this.qq.selectList.forEach(function(e) {\r\n              usernames += e.relateUsername + \",\";\r\n            });\r\n            usernames = usernames.substring(0, ids.length - 1);\r\n            let params = {\r\n              ids: ids,\r\n              usernames: usernames,\r\n              socialType: socialType\r\n            };\r\n            this.operationLoading = true;\r\n            unRelate(params).then(res => {\r\n              this.operationLoading = false;\r\n              if (res.success === true) {\r\n                this.$Message.success(\"操作成功\");\r\n                this.clearSelectAll();\r\n                this.getDataList();\r\n              }\r\n            });\r\n          }\r\n        });\r\n      } else if (this.tabName === \"weibo\") {\r\n        socialType = 2;\r\n        if (this.weibo.selectCount <= 0) {\r\n          this.$Message.warning(\"您还未勾选要删除的数据\");\r\n          return;\r\n        }\r\n        this.$Modal.confirm({\r\n          title: \"确认删除解绑\",\r\n          content:\r\n            \"您确认要删除解绑所选的 \" + this.weibo.selectCount + \" 条数据?\",\r\n          onOk: () => {\r\n            let ids = \"\";\r\n            this.weibo.selectList.forEach(function(e) {\r\n              ids += e.id + \",\";\r\n            });\r\n            ids = ids.substring(0, ids.length - 1);\r\n            let usernames = \"\";\r\n            this.weibo.selectList.forEach(function(e) {\r\n              usernames += e.relateUsername + \",\";\r\n            });\r\n            usernames = usernames.substring(0, ids.length - 1);\r\n            let params = {\r\n              ids: ids,\r\n              usernames: usernames,\r\n              socialType: socialType\r\n            };\r\n            this.operationLoading = true;\r\n            unRelate(params).then(res => {\r\n              this.operationLoading = false;\r\n              if (res.success === true) {\r\n                this.$Message.success(\"操作成功\");\r\n                this.clearSelectAll();\r\n                this.getDataList();\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  }\r\n};\r\n</script>"]}]}