{"remainingRequest":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\views\\access\\access.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\views\\access\\access.vue","mtime":1545792990741},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\less-loader\\dist\\cjs.js","mtime":1545803960479},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545803981415},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n@import \"../../styles/common.less\";\n@import \"./access.less\";\n",{"version":3,"sources":["access.vue"],"names":[],"mappings":";AACA;AACA","file":"access.vue","sourceRoot":"src\\views\\access","sourcesContent":["<style lang=\"less\">\r\n  @import \"../../styles/common.less\";\r\n  @import \"./access.less\";\r\n</style>\r\n\r\n<template>\r\n  <div class=\"access\">\r\n    <Row>\r\n      <Col :md=\"12\" :lg=\"8\" style=\"padding:0 10px 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-contact\" style=\"margin-bottom:2px\"></Icon>\r\n            当前用户\r\n          </p>\r\n          <div class=\"access-user-con access-current-user-con\">\r\n            <img :src=\"avatorPath\" alt=\"\">\r\n            <p>当前用户本页面拥有按钮权限:</p>\r\n            <b>{{ permTypes }}</b>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n      <Col :md=\"12\" :lg=\"16\" style=\"padding:0 10px 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-apps\" style=\"margin-bottom:2px\"></Icon>\r\n            当前用户本页面拥有的按钮操作\r\n          </p>\r\n          <div class=\"access-user-con access-change-access-con\">\r\n            <Col span=\"4\" class=\"buttons\">\r\n            <Row type=\"flex\" justify=\"center\" align=\"middle\" class=\"access-change-access-con-row\">\r\n              <Button v-has=\"'add'\" type=\"primary\">添加按钮</Button>\r\n              <Button v-has=\"'edit'\">编辑按钮</Button>\r\n              <Button v-has=\"'delete'\" type=\"error\">删除按钮</Button>\r\n            </Row>\r\n            </Col>\r\n            <Col span=\"17\" class=\"padding-left-10\">\r\n            <Row type=\"flex\" justify=\"center\" align=\"middle\" class=\"access-change-access-con-row\">\r\n              <p>\r\n                您可以通过更换测试用户账号：<code>test</code>或<code>test2</code> 密码：<code>123456</code>，然后观察该页面按钮以及部门相关数据权限的变化<br><br> 自定义权限标签：\r\n                <code>v-has</code>，示例：<code>{{example}}</code><br><br> 说明：该Demo大部分页面为演示功能，前端未配置根据权限隐藏按钮\r\n              </p>\r\n            </Row>\r\n            </Col>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n    <Row>\r\n      <Col :md=\"12\" :lg=\"14\" style=\"padding:0 10px 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-grid\" style=\"margin-bottom:2px\"></Icon>\r\n            表格Render函数中权限判断\r\n          </p>\r\n          <div>\r\n            <Alert show-icon>\r\n              由于表格中操作按钮或其他自定义内容使用\r\n              <a target=\"_blank\" href=\"https://cn.vuejs.org/v2/guide/render-function.html\">Render渲染函数</a> ，需在函数内实现权限判断，详见该示例页面代码\r\n            </Alert>\r\n            <Table border :columns=\"columns\" :data=\"data\"></Table>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n      <Col :md=\"12\" :lg=\"10\" style=\"padding:0 10px 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\" style=\"overflow:visible\">\r\n            <Icon type=\"md-contacts\" style=\"margin-bottom:2px;margin-right:3px;\"></Icon>\r\n            <Badge dot>通过当前用户角色显示(付费)</Badge>\r\n          </p>\r\n          <p slot=\"extra\">\r\n            无需配置，全局可用\r\n          </p>\r\n          <Row>\r\n            <div class=\"access-user-roles\">\r\n              <p>当前用户拥有角色:</p>\r\n              <b>{{ roles }}</b>\r\n            </div>\r\n            <div class=\"btns\">\r\n              <Button v-hasRole=\"'ROLE_USER'\" type=\"primary\" style=\"margin-right:5px;\">添加按钮</Button>\r\n              <Button v-hasRole=\"'ROLE_TEST'\" type=\"error\">删除按钮</Button>\r\n              <Button v-hasRole=\"'ROLE_ADMIN'\">编辑按钮</Button>\r\n            </div>\r\n            <div class=\"role-demo\">\r\n              自定义角色权限标签：<code>v-hasRole</code><br><br>\r\n              示例：<code>{{exampleRole}}</code>\r\n            </div>\r\n          </Row>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Cookies from \"js-cookie\";\r\n  export default {\r\n    name: \"access_index\",\r\n    data() {\r\n      return {\r\n        permTypes: [],\r\n        roles: [],\r\n        example: \"<Button v-has=\\\"'add'\\\">添加按钮</Button>\",\r\n        exampleRole: \"<Button v-hasRole=\\\"'ROLE_ADMIN'\\\">添加按钮</Button>\",\r\n        columns: [{\r\n            title: \"姓名\",\r\n            key: \"name\",\r\n            render: (h, params) => {\r\n              return h(\"div\", [\r\n                h(\"Icon\", {\r\n                  props: {\r\n                    type: \"ios-person\"\r\n                  },\r\n                  style: {\r\n                    margin: \"0 5px 3px 0\"\r\n                  }\r\n                }),\r\n                h(\"strong\", params.row.name)\r\n              ]);\r\n            }\r\n          },\r\n          {\r\n            title: \"年龄\",\r\n            key: \"age\"\r\n          },\r\n          {\r\n            title: \"地址\",\r\n            key: \"address\"\r\n          },\r\n          {\r\n            title: \"操作\",\r\n            key: \"action\",\r\n            width: 150,\r\n            align: \"center\",\r\n            render: (h, params) => {\r\n              if (this.permTypes.includes(\"edit\")) {\r\n                return h(\"div\", [\r\n                  h(\r\n                    \"Button\", {\r\n                      props: {\r\n                        type: \"primary\",\r\n                        size: \"small\"\r\n                      },\r\n                      style: {\r\n                        marginRight: \"5px\"\r\n                      },\r\n                      on: {\r\n                        click: () => {}\r\n                      }\r\n                    },\r\n                    \"编辑\"\r\n                  ),\r\n                  h(\r\n                    \"Button\", {\r\n                      props: {\r\n                        type: \"error\",\r\n                        size: \"small\"\r\n                      },\r\n                      on: {\r\n                        click: () => {}\r\n                      }\r\n                    },\r\n                    \"删除\"\r\n                  )\r\n                ]);\r\n              } else {\r\n                return h(\"div\", [\r\n                  h(\r\n                    \"Button\", {\r\n                      props: {\r\n                        type: \"error\",\r\n                        size: \"small\"\r\n                      },\r\n                      on: {\r\n                        click: () => {}\r\n                      }\r\n                    },\r\n                    \"删除\"\r\n                  )\r\n                ]);\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        data: [{\r\n            name: \"John Brown\",\r\n            age: 18,\r\n            address: \"New York No. 1 Lake Park\"\r\n          },\r\n          {\r\n            name: \"Jim Green\",\r\n            age: 24,\r\n            address: \"London No. 1 Lake Park\"\r\n          },\r\n          {\r\n            name: \"Joe Black\",\r\n            age: 30,\r\n            address: \"Sydney No. 1 Lake Park\"\r\n          }\r\n        ]\r\n      };\r\n    },\r\n    computed: {\r\n      avatorPath() {\r\n        return localStorage.avatorImgPath;\r\n      }\r\n    },\r\n    methods: {\r\n      initMeta() {\r\n        let permTypes = this.$route.meta.permTypes;\r\n        if (permTypes !== null && permTypes !== undefined) {\r\n          this.permTypes = permTypes;\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.initMeta();\r\n      this.roles = this.getStore(\"roles\")\r\n    }\r\n  };\r\n</script>\r\n\r\n<style>\r\n  \r\n</style>\r\n"]}]}