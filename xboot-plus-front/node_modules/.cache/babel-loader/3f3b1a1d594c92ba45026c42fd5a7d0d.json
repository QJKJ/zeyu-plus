{"remainingRequest":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\router\\index.js","dependencies":[{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\router\\index.js","mtime":1545792990731},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545803981415},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000}],"contextDependencies":[],"result":["import _toConsumableArray from \"D:\\\\zeyu\\\\zeyu-plus\\\\xboot-plus-front\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/toConsumableArray\";\nimport Vue from 'vue';\nimport iView from 'iview';\nimport Util from '../libs/util';\nimport VueRouter from 'vue-router';\nimport Cookies from 'js-cookie';\nimport { routers, otherRouter } from './router';\nimport store from '../store';\nVue.use(VueRouter); // 路由配置\n\nvar RouterConfig = {\n  mode: 'history',\n  routes: routers\n};\nexport var router = new VueRouter(RouterConfig);\nrouter.beforeEach(function (to, from, next) {\n  iView.LoadingBar.start();\n  Util.title(to.meta.title);\n\n  if (Cookies.get('locking') === '1' && to.name !== 'locking') {\n    // 判断当前是否是锁定状态\n    next({\n      replace: true,\n      name: 'locking'\n    });\n  } else if (Cookies.get('locking') === '0' && to.name === 'locking') {\n    next(false);\n  } else {\n    // 白名单\n    if (!Cookies.get('userInfo') && to.name !== 'login' && to.name !== 'regist' && to.name !== 'regist-result' && to.name !== 'relate' && to.name !== 'reset') {\n      // 判断是否已经登录且前往的页面不是登录页\n      next({\n        name: 'login'\n      });\n    } else if (Cookies.get('userInfo') && to.name === 'login') {\n      // 判断是否已经登录且前往的是登录页\n      Util.title();\n      next({\n        name: 'home_index'\n      });\n    } else {\n      Util.toDefaultPage(_toConsumableArray(routers), to.name, router, next);\n    }\n  }\n});\nrouter.afterEach(function (to) {\n  Util.openNewPage(router.app, to.name, to.params, to.query);\n  iView.LoadingBar.finish();\n  window.scrollTo(0, 0);\n});",{"version":3,"sources":["src\\router\\index.js"],"names":["Vue","iView","Util","VueRouter","Cookies","routers","otherRouter","store","use","RouterConfig","mode","routes","router","beforeEach","to","from","next","LoadingBar","start","title","meta","get","name","replace","toDefaultPage","afterEach","openNewPage","app","params","query","finish","window","scrollTo"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,UAArC;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEAP,IAAIQ,GAAJ,CAAQL,SAAR,E,CAEA;;AACA,IAAMM,eAAe;AACjBC,QAAM,SADW;AAEjBC,UAAQN;AAFS,CAArB;AAKA,OAAO,IAAMO,SAAS,IAAIT,SAAJ,CAAcM,YAAd,CAAf;AAEPG,OAAOC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClCf,QAAMgB,UAAN,CAAiBC,KAAjB;AACAhB,OAAKiB,KAAL,CAAWL,GAAGM,IAAH,CAAQD,KAAnB;;AACA,MAAIf,QAAQiB,GAAR,CAAY,SAAZ,MAA2B,GAA3B,IAAkCP,GAAGQ,IAAH,KAAY,SAAlD,EAA6D;AACzD;AACAN,SAAK;AACDO,eAAS,IADR;AAEDD,YAAM;AAFL,KAAL;AAIH,GAND,MAMO,IAAIlB,QAAQiB,GAAR,CAAY,SAAZ,MAA2B,GAA3B,IAAkCP,GAAGQ,IAAH,KAAY,SAAlD,EAA6D;AAChEN,SAAK,KAAL;AACH,GAFM,MAEA;AACH;AACA,QAAI,CAACZ,QAAQiB,GAAR,CAAY,UAAZ,CAAD,IAA4BP,GAAGQ,IAAH,KAAY,OAAxC,IAAmDR,GAAGQ,IAAH,KAAY,QAA/D,IAA2ER,GAAGQ,IAAH,KAAY,eAAvF,IAA0GR,GAAGQ,IAAH,KAAY,QAAtH,IAAkIR,GAAGQ,IAAH,KAAY,OAAlJ,EAA2J;AACvJ;AACAN,WAAK;AACDM,cAAM;AADL,OAAL;AAGH,KALD,MAKO,IAAIlB,QAAQiB,GAAR,CAAY,UAAZ,KAA2BP,GAAGQ,IAAH,KAAY,OAA3C,EAAoD;AACvD;AACApB,WAAKiB,KAAL;AACAH,WAAK;AACDM,cAAM;AADL,OAAL;AAGH,KANM,MAMA;AACHpB,WAAKsB,aAAL,oBAAuBnB,OAAvB,GAAiCS,GAAGQ,IAApC,EAA0CV,MAA1C,EAAkDI,IAAlD;AACH;AACJ;AACJ,CA5BD;AA8BAJ,OAAOa,SAAP,CAAiB,UAACX,EAAD,EAAQ;AACrBZ,OAAKwB,WAAL,CAAiBd,OAAOe,GAAxB,EAA6Bb,GAAGQ,IAAhC,EAAsCR,GAAGc,MAAzC,EAAiDd,GAAGe,KAApD;AACA5B,QAAMgB,UAAN,CAAiBa,MAAjB;AACAC,SAAOC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH,CAJD","sourceRoot":"D:\\zeyu\\zeyu-plus\\xboot-plus-front","sourcesContent":["import Vue from 'vue';\r\nimport iView from 'iview';\r\nimport Util from '../libs/util';\r\nimport VueRouter from 'vue-router';\r\nimport Cookies from 'js-cookie';\r\nimport { routers, otherRouter } from './router';\r\nimport store from '../store';\r\n\r\nVue.use(VueRouter);\r\n\r\n// 路由配置\r\nconst RouterConfig = {\r\n    mode: 'history',\r\n    routes: routers\r\n};\r\n\r\nexport const router = new VueRouter(RouterConfig);\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    iView.LoadingBar.start();\r\n    Util.title(to.meta.title);\r\n    if (Cookies.get('locking') === '1' && to.name !== 'locking') {\r\n        // 判断当前是否是锁定状态\r\n        next({\r\n            replace: true,\r\n            name: 'locking'\r\n        });\r\n    } else if (Cookies.get('locking') === '0' && to.name === 'locking') {\r\n        next(false);\r\n    } else {\r\n        // 白名单\r\n        if (!Cookies.get('userInfo') && to.name !== 'login' && to.name !== 'regist' && to.name !== 'regist-result' && to.name !== 'relate' && to.name !== 'reset') { \r\n            // 判断是否已经登录且前往的页面不是登录页\r\n            next({\r\n                name: 'login'\r\n            });\r\n        } else if (Cookies.get('userInfo') && to.name === 'login') {\r\n            // 判断是否已经登录且前往的是登录页\r\n            Util.title();\r\n            next({\r\n                name: 'home_index'\r\n            });\r\n        } else {\r\n            Util.toDefaultPage([...routers], to.name, router, next);\r\n        }\r\n    }\r\n});\r\n\r\nrouter.afterEach((to) => {\r\n    Util.openNewPage(router.app, to.name, to.params, to.query);\r\n    iView.LoadingBar.finish();\r\n    window.scrollTo(0, 0);\r\n});\r\n"]}]}