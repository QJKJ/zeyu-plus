{"remainingRequest":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\views\\my-components\\scroll-bar\\vue-scroller-bars\\scroll-bar.vue?vue&type=script&lang=js&","dependencies":[{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\views\\my-components\\scroll-bar\\vue-scroller-bars\\scroll-bar.vue","mtime":1545792990764},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545803981415},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"Z:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\r\n * @author Lison<zhigang.li@tendcloud.com>\r\n */\nexport default {\n  name: 'scrollBar',\n  props: {\n    speed: {\n      type: Number,\n      default: 20\n    },\n    scrollXStyle: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    disScrollX: {\n      type: Boolean,\n      default: false\n    },\n    disScrollY: {\n      type: Boolean,\n      default: false\n    },\n    scrollYStyle: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    scrollXType: {\n      type: String,\n      default: 'cover'\n    },\n    scrollYType: {\n      type: String,\n      default: 'cover'\n    },\n    showAll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      prefix: 'vue-scroller-bars',\n      scrollOffsetX: 0,\n      scrollOffsetY: 0,\n      contentSize: {\n        width: 0,\n        height: 0\n      },\n      wraperSize: {\n        width: 0,\n        height: 0\n      },\n      initY: 0,\n      initOffsetY: 0,\n      initX: 0,\n      initOffsetX: 0\n    };\n  },\n  computed: {\n    wraperClasses: function wraperClasses() {\n      return [\"\".concat(this.prefix, \"-wraper\"), this.showAll ? '' : 'show-when-hover'];\n    },\n    contentStyles: function contentStyles() {\n      return {\n        transform: \"translate3d(-\".concat(this.scrollOffsetX, \"px, -\").concat(this.scrollOffsetY, \"px, 0px)\"),\n        width: this.disScrollX ? '100%' : 'auto',\n        height: this.disScrollY ? '100%' : 'auto'\n      };\n    },\n    percentY: function percentY() {\n      return this.wraperSize.height / this.contentSize.height;\n    },\n    scrollYStyles: function scrollYStyles() {\n      return Object.assign(this.scrollYStyle, {\n        height: this.percentX < 1 ? 'calc(100% - 14px)' : '100%'\n      });\n    },\n    scrollBarYHeight: function scrollBarYHeight() {\n      return this.percentY * (this.wraperSize.height - 2);\n    },\n    scrollBarYStyles: function scrollBarYStyles() {\n      var height = this.scrollBarYHeight;\n      return {\n        transform: \"translate3d(0px, \".concat(this.scrollOffsetY * (height / this.wraperSize.height), \"px, 0px)\"),\n        height: \"\".concat(height, \"px\")\n      };\n    },\n    scrollYClasses: function scrollYClasses() {\n      return [\"\".concat(this.prefix, \"-scroll\"), \"\".concat(this.prefix, \"-scroll-y\"), this.scrollYType === 'cover' ? 'scroll-y-cover' : ''];\n    },\n    gapY: function gapY() {\n      return this.contentSize.height - this.wraperSize.height;\n    },\n    percentX: function percentX() {\n      return this.wraperSize.width / this.contentSize.width;\n    },\n    scrollXStyles: function scrollXStyles() {\n      return Object.assign(this.scrollXStyle, {\n        width: this.percentY < 1 ? 'calc(100% - 14px)' : '100%'\n      });\n    },\n    scrollBarXWidth: function scrollBarXWidth() {\n      return this.percentX * (this.wraperSize.width - 2);\n    },\n    scrollBarXStyles: function scrollBarXStyles() {\n      var width = this.scrollBarXWidth;\n      return {\n        transform: \"translate3d(\".concat(this.scrollOffsetX * (width / this.wraperSize.width), \"px, 0px, 0px)\"),\n        width: \"\".concat(width, \"px\")\n      };\n    },\n    scrollXClasses: function scrollXClasses() {\n      return [\"\".concat(this.prefix, \"-scroll\"), \"\".concat(this.prefix, \"-scroll-x\"), this.scrollXType === 'cover' ? 'scroll-x-cover' : ''];\n    },\n    gapX: function gapX() {\n      return this.contentSize.width - this.wraperSize.width;\n    }\n  },\n  methods: {\n    resize: function resize() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        var wraperRect = _this.$refs.wraper.getBoundingClientRect();\n\n        var contentRect = _this.$refs.content.getBoundingClientRect();\n\n        _this.contentSize = {\n          width: contentRect.width,\n          height: contentRect.height\n        };\n        var percentXLowerThanOne = wraperRect.width / contentRect.width < 1;\n        var percentYLowerThanOne = wraperRect.height / contentRect.height < 1;\n        var gap = percentXLowerThanOne && percentYLowerThanOne ? 14 : 0;\n        _this.wraperSize = {\n          width: wraperRect.width - gap,\n          height: wraperRect.height - gap\n        };\n\n        if (_this.contentSize.height <= _this.wraperSize.height) {\n          // if content's height shorter than wraper's height\n          _this.scrollOffsetY = 0;\n        }\n\n        ;\n\n        if (wraperRect.bottom > contentRect.bottom && _this.scrollOffsetY > 0) {\n          // if content's bottom upper wraper's bottom\n          _this.scrollOffsetY += contentRect.bottom - wraperRect.bottom;\n        }\n\n        ;\n      });\n    },\n    handleMouseWheel: function handleMouseWheel(e) {\n      this.scrollOffsetY += this.percentY < 1 ? e.deltaY : 0;\n      this.scrollOffsetX += this.percentX < 1 ? e.deltaX : 0;\n\n      if (this.percentY < 1) {\n        if (this.scrollOffsetY >= this.gapY) {\n          this.scrollOffsetY = Math.min(this.gapY, this.scrollOffsetY);\n        } else if (this.scrollOffsetY <= 0) {\n          this.scrollOffsetY = Math.max(this.scrollOffsetY, 0);\n        }\n      }\n\n      if (this.percentX < 1) {\n        if (this.scrollOffsetX >= this.gapX) {\n          this.scrollOffsetX = Math.min(this.gapX, this.scrollOffsetX);\n        } else if (this.scrollOffsetX <= 0) {\n          this.scrollOffsetX = Math.max(this.scrollOffsetX, 0);\n        }\n      }\n    },\n    handleDOMMouseWheel: function handleDOMMouseWheel(e) {\n      this.scrollOffsetY += e.detail * 16;\n\n      if (this.scrollOffsetY >= this.gapY) {\n        this.scrollOffsetY = Math.min(this.gapY, this.scrollOffsetY);\n      } else if (this.scrollOffsetY <= 0) {\n        this.scrollOffsetY = Math.max(this.scrollOffsetY, 0);\n      }\n    },\n    handleMousemoveY: function handleMousemoveY(e) {\n      var offset = e.pageY - this.initY;\n      this.scrollOffsetY = this.initOffsetY + offset / ((this.wraperSize.height - 2 - this.scrollBarYHeight) / (this.contentSize.height - this.wraperSize.height));\n\n      if (this.scrollOffsetY >= this.gapY) {\n        this.scrollOffsetY = Math.min(this.gapY, this.scrollOffsetY);\n      } else if (this.scrollOffsetY <= 0) {\n        this.scrollOffsetY = Math.max(this.scrollOffsetY, 0);\n      }\n\n      e.preventDefault();\n    },\n    handleMousedownScrollBarY: function handleMousedownScrollBarY(e) {\n      this.initY = e.pageY;\n      this.initOffsetY = this.scrollOffsetY;\n      document.addEventListener('mousemove', this.handleMousemoveY);\n      document.addEventListener('mouseup', this.handleMouseup);\n    },\n    handleMousemoveX: function handleMousemoveX(e) {\n      var offset = e.pageX - this.initX;\n      this.scrollOffsetX = this.initOffsetX + offset / ((this.wraperSize.width - 2 - this.scrollBarXWidth) / (this.contentSize.width - this.wraperSize.width));\n\n      if (this.scrollOffsetX >= this.gapX) {\n        this.scrollOffsetX = Math.min(this.gapX, this.scrollOffsetX);\n      } else if (this.scrollOffsetX <= 0) {\n        this.scrollOffsetX = Math.max(this.scrollOffsetX, 0);\n      }\n\n      e.preventDefault();\n    },\n    handleMousedownScrollBarX: function handleMousedownScrollBarX(e) {\n      this.initX = e.pageX;\n      this.initOffsetX = this.scrollOffsetX;\n      document.addEventListener('mousemove', this.handleMousemoveX);\n      document.addEventListener('mouseup', this.handleMouseup);\n    },\n    handleMouseup: function handleMouseup(e) {\n      document.removeEventListener('mousemove', this.handleMousemoveY);\n      document.removeEventListener('mousemove', this.handleMousemoveX);\n      document.removeEventListener('mousemove', this.handleMouseup);\n    }\n  },\n  mounted: function mounted() {\n    this.resize();\n  }\n};",{"version":3,"sources":["scroll-bar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div ref=\"wraper\" :class=\"wraperClasses\" @DOMMouseScroll=\"handleDOMMouseWheel\" @mousewheel=\"handleMouseWheel\">\r\n\t\t<div \r\n\t\t\tref=\"content\"\r\n\t\t\t:class=\"`${prefix}-content`\"\r\n\t\t\t:style=\"contentStyles\"\r\n\t\t\t>\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t\t<div v-show=\"percentY < 1 && !disScrollY\" :class=\"scrollYClasses\" :style=\"scrollYStyles\">\r\n\t\t\t<div :class=\"[`${prefix}-scroll-bar`, `${prefix}-scroll-bar-y`]\" :style=\"scrollBarYStyles\" @mousedown=\"handleMousedownScrollBarY\"></div>\r\n\t\t</div>\r\n\t\t<div v-show=\"percentX < 1 && !disScrollX\" :class=\"scrollXClasses\" :style=\"scrollXStyles\">\r\n\t\t\t<div :class=\"[`${prefix}-scroll-bar`, `${prefix}-scroll-bar-x`]\" :style=\"scrollBarXStyles\" @mousedown=\"handleMousedownScrollBarX\"></div>\r\n\t\t</div>\r\n\t\t<div v-show=\"percentX < 1 && percentY < 1\" :class=\"`${prefix}-place-holder`\"></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * @author Lison<zhigang.li@tendcloud.com>\r\n */\r\nexport default {\r\n    name: 'scrollBar',\r\n    props: {\r\n        speed: {\r\n            type: Number,\r\n            default: 20\r\n        },\r\n        scrollXStyle: {\r\n            type: Object,\r\n            default () {\r\n                return {};\r\n            }\r\n        },\r\n        disScrollX: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        disScrollY: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        scrollYStyle: {\r\n            type: Object,\r\n            default () {\r\n                return {};\r\n            }\r\n        },\r\n        scrollXType: {\r\n            type: String,\r\n            default: 'cover'\r\n        },\r\n        scrollYType: {\r\n            type: String,\r\n            default: 'cover'\r\n        },\r\n        showAll: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            prefix: 'vue-scroller-bars',\r\n            scrollOffsetX: 0,\r\n            scrollOffsetY: 0,\r\n            contentSize: {\r\n                width: 0,\r\n                height: 0\r\n            },\r\n            wraperSize: {\r\n                width: 0,\r\n                height: 0\r\n            },\r\n            initY: 0,\r\n            initOffsetY: 0,\r\n            initX: 0,\r\n            initOffsetX: 0\r\n        };\r\n    },\r\n    computed: {\r\n        wraperClasses () {\r\n            return [\r\n                `${this.prefix}-wraper`,\r\n                this.showAll ? '' : 'show-when-hover'\r\n            ];\r\n        },\r\n        contentStyles () {\r\n            return {\r\n                transform: `translate3d(-${this.scrollOffsetX}px, -${this.scrollOffsetY}px, 0px)`,\r\n                width: this.disScrollX ? '100%' : 'auto',\r\n                height: this.disScrollY ? '100%' : 'auto'\r\n            };\r\n        },\r\n        percentY () {\r\n            return this.wraperSize.height / this.contentSize.height;\r\n        },\r\n        scrollYStyles () {\r\n            return Object.assign(this.scrollYStyle, {\r\n                height: this.percentX < 1 ? 'calc(100% - 14px)' : '100%'\r\n            });\r\n        },\r\n        scrollBarYHeight () {\r\n            return this.percentY * (this.wraperSize.height - 2);\r\n        },\r\n        scrollBarYStyles () {\r\n            let height = this.scrollBarYHeight;\r\n            return {\r\n                transform: `translate3d(0px, ${this.scrollOffsetY * (height / this.wraperSize.height)}px, 0px)`,\r\n                height: `${height}px`\r\n            };\r\n        },\r\n        scrollYClasses () {\r\n            return [\r\n                `${this.prefix}-scroll`,\r\n                `${this.prefix}-scroll-y`,\r\n                this.scrollYType === 'cover' ? 'scroll-y-cover' : ''\r\n            ];\r\n        },\r\n        gapY () {\r\n            return this.contentSize.height - this.wraperSize.height;\r\n        },\r\n        percentX () {\r\n            return this.wraperSize.width / this.contentSize.width;\r\n        },\r\n        scrollXStyles () {\r\n            return Object.assign(this.scrollXStyle, {\r\n                width: this.percentY < 1 ? 'calc(100% - 14px)' : '100%'\r\n            });\r\n        },\r\n        scrollBarXWidth () {\r\n            return this.percentX * (this.wraperSize.width - 2);\r\n        },\r\n        scrollBarXStyles () {\r\n            let width = this.scrollBarXWidth;\r\n            return {\r\n                transform: `translate3d(${this.scrollOffsetX * (width / this.wraperSize.width)}px, 0px, 0px)`,\r\n                width: `${width}px`\r\n            };\r\n        },\r\n        scrollXClasses () {\r\n            return [\r\n                `${this.prefix}-scroll`,\r\n                `${this.prefix}-scroll-x`,\r\n                this.scrollXType === 'cover' ? 'scroll-x-cover' : ''\r\n            ];\r\n        },\r\n        gapX () {\r\n            return this.contentSize.width - this.wraperSize.width;\r\n        }\r\n    },\r\n    methods: {\r\n        resize () {\r\n            this.$nextTick(() => {\r\n                let wraperRect = this.$refs.wraper.getBoundingClientRect();\r\n                let contentRect = this.$refs.content.getBoundingClientRect();\r\n                this.contentSize = {\r\n                    width: contentRect.width,\r\n                    height: contentRect.height\r\n                };\r\n                let percentXLowerThanOne = (wraperRect.width / contentRect.width) < 1;\r\n                let percentYLowerThanOne = (wraperRect.height / contentRect.height) < 1;\r\n                let gap = percentXLowerThanOne && percentYLowerThanOne ? 14 : 0;\r\n                this.wraperSize = {\r\n                    width: wraperRect.width - gap,\r\n                    height: wraperRect.height - gap\r\n                };\r\n                if (this.contentSize.height <= this.wraperSize.height) { // if content's height shorter than wraper's height\r\n                    this.scrollOffsetY = 0;\r\n                };\r\n                if ((wraperRect.bottom > contentRect.bottom) && (this.scrollOffsetY > 0)) { // if content's bottom upper wraper's bottom\r\n                    this.scrollOffsetY += contentRect.bottom - wraperRect.bottom;\r\n                };\r\n            });\r\n        },\r\n        handleMouseWheel (e) {\r\n            this.scrollOffsetY += this.percentY < 1 ? e.deltaY : 0;\r\n            this.scrollOffsetX += this.percentX < 1 ? e.deltaX : 0;\r\n            if (this.percentY < 1) {\r\n                if (this.scrollOffsetY >= this.gapY) {\r\n                    this.scrollOffsetY = Math.min(this.gapY, this.scrollOffsetY);\r\n                } else if (this.scrollOffsetY <= 0) {\r\n                    this.scrollOffsetY = Math.max(this.scrollOffsetY, 0);\r\n                }\r\n            }\r\n            if (this.percentX < 1) {\r\n                if (this.scrollOffsetX >= this.gapX) {\r\n                    this.scrollOffsetX = Math.min(this.gapX, this.scrollOffsetX);\r\n                } else if (this.scrollOffsetX <= 0) {\r\n                    this.scrollOffsetX = Math.max(this.scrollOffsetX, 0);\r\n                }\r\n            }\r\n        },\r\n        handleDOMMouseWheel (e) {\r\n            this.scrollOffsetY += e.detail * 16;\r\n            if (this.scrollOffsetY >= this.gapY) {\r\n                this.scrollOffsetY = Math.min(this.gapY, this.scrollOffsetY);\r\n            } else if (this.scrollOffsetY <= 0) {\r\n                this.scrollOffsetY = Math.max(this.scrollOffsetY, 0);\r\n            }\r\n        },\r\n        handleMousemoveY (e) {\r\n            let offset = e.pageY - this.initY;\r\n            this.scrollOffsetY = this.initOffsetY + offset / ((this.wraperSize.height - 2 - this.scrollBarYHeight) / (this.contentSize.height - this.wraperSize.height));\r\n            if (this.scrollOffsetY >= this.gapY) {\r\n                this.scrollOffsetY = Math.min(this.gapY, this.scrollOffsetY);\r\n            } else if (this.scrollOffsetY <= 0) {\r\n                this.scrollOffsetY = Math.max(this.scrollOffsetY, 0);\r\n            }\r\n            e.preventDefault();\r\n        },\r\n        handleMousedownScrollBarY (e) {\r\n            this.initY = e.pageY;\r\n            this.initOffsetY = this.scrollOffsetY;\r\n            document.addEventListener('mousemove', this.handleMousemoveY);\r\n            document.addEventListener('mouseup', this.handleMouseup);\r\n        },\r\n        handleMousemoveX (e) {\r\n            let offset = e.pageX - this.initX;\r\n            this.scrollOffsetX = this.initOffsetX + offset / ((this.wraperSize.width - 2 - this.scrollBarXWidth) / (this.contentSize.width - this.wraperSize.width));\r\n            if (this.scrollOffsetX >= this.gapX) {\r\n                this.scrollOffsetX = Math.min(this.gapX, this.scrollOffsetX);\r\n            } else if (this.scrollOffsetX <= 0) {\r\n                this.scrollOffsetX = Math.max(this.scrollOffsetX, 0);\r\n            }\r\n            e.preventDefault();\r\n        },\r\n        handleMousedownScrollBarX (e) {\r\n            this.initX = e.pageX;\r\n            this.initOffsetX = this.scrollOffsetX;\r\n            document.addEventListener('mousemove', this.handleMousemoveX);\r\n            document.addEventListener('mouseup', this.handleMouseup);\r\n        },\r\n        handleMouseup (e) {\r\n            document.removeEventListener('mousemove', this.handleMousemoveY);\r\n            document.removeEventListener('mousemove', this.handleMousemoveX);\r\n            document.removeEventListener('mousemove', this.handleMouseup);\r\n        }\r\n    },\r\n    mounted () {\r\n        this.resize();\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import './scroll-bar.less';\r\n</style>\r\n"],"sourceRoot":"src\\views\\my-components\\scroll-bar\\vue-scroller-bars"}]}