{"remainingRequest":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\libs\\util.js","dependencies":[{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\src\\libs\\util.js","mtime":1546426351577},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545803981415},{"path":"D:\\zeyu\\zeyu-plus\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000}],"contextDependencies":[],"result":["import _toConsumableArray from \"D:\\\\zeyu\\\\zeyu-plus\\\\xboot-plus-front\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/toConsumableArray\";\nimport _typeof from \"D:\\\\zeyu\\\\zeyu-plus\\\\xboot-plus-front\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/typeof\";\nimport axios from 'axios';\nimport { getMenuList, coreParameter } from '@/api/index';\nimport lazyLoading from './lazyLoading.js';\nimport router from '@/router/index';\nimport Cookies from \"js-cookie\";\nvar util = {};\n\nutil.title = function (title) {\n  title = title || coreParameter.platformName;\n  window.document.title = title;\n};\n\nutil.millsToTime = function (mills) {\n  if (!mills) {\n    return \"\";\n  }\n\n  var s = mills / 1000;\n\n  if (s < 60) {\n    return s.toFixed(0) + \" 秒\";\n  }\n\n  var m = s / 60;\n\n  if (m < 60) {\n    return m.toFixed(0) + \" 分钟\";\n  }\n\n  var h = m / 60;\n\n  if (h < 24) {\n    return h.toFixed(0) + \" 小时\";\n  }\n\n  var d = h / 24;\n\n  if (d < 30) {\n    return d.toFixed(0) + \" 天\";\n  }\n\n  var month = d / 30;\n\n  if (month < 12) {\n    return month.toFixed(0) + \" 月\";\n  }\n\n  var year = month / 12;\n  return year.toFixed(0) + \" 年\";\n};\n\nutil.inOf = function (arr, targetArr) {\n  var res = true;\n  arr.forEach(function (item) {\n    if (targetArr.indexOf(item) < 0) {\n      res = false;\n    }\n  });\n  return res;\n};\n\nutil.oneOf = function (ele, targetArr) {\n  if (targetArr.indexOf(ele) >= 0) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nutil.getRouterObjByName = function (routers, name) {\n  if (!name || !routers || !routers.length) {\n    return null;\n  } // debugger;\n\n\n  var routerObj = null;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = routers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var item = _step.value;\n\n      if (item.name === name) {\n        return item;\n      }\n\n      routerObj = util.getRouterObjByName(item.children, name);\n\n      if (routerObj) {\n        return routerObj;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return null;\n};\n\nutil.handleTitle = function (vm, item) {\n  if (_typeof(item.title) === 'object') {\n    return vm.$t(item.title.i18n);\n  } else {\n    return item.title;\n  }\n};\n\nutil.setCurrentPath = function (vm, name) {\n  var title = '';\n  var isOtherRouter = false;\n  vm.$store.state.app.routers.forEach(function (item) {\n    if (item.children.length === 1) {\n      if (item.children[0].name === name) {\n        title = util.handleTitle(vm, item);\n\n        if (item.name === 'otherRouter') {\n          isOtherRouter = true;\n        }\n      }\n    } else {\n      item.children.forEach(function (child) {\n        if (child.name === name) {\n          title = util.handleTitle(vm, child);\n\n          if (item.name === 'otherRouter') {\n            isOtherRouter = true;\n          }\n        }\n      });\n    }\n  });\n  var currentPathArr = [];\n\n  if (name === 'home_index') {\n    currentPathArr = [{\n      title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\n      path: '',\n      name: 'home_index'\n    }];\n  } else if ((name.indexOf('_index') >= 0 || isOtherRouter) && name !== 'home_index') {\n    currentPathArr = [{\n      title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\n      path: '/home',\n      name: 'home_index'\n    }, {\n      title: title,\n      path: '',\n      name: name\n    }];\n  } else {\n    var currentPathObj = vm.$store.state.app.routers.filter(function (item) {\n      if (item.children.length <= 1) {\n        return item.children[0].name === name;\n      } else {\n        var i = 0;\n        var childArr = item.children;\n        var len = childArr.length;\n\n        while (i < len) {\n          if (childArr[i].name === name) {\n            return true;\n          }\n\n          i++;\n        }\n\n        return false;\n      }\n    })[0];\n\n    if (currentPathObj.children.length <= 1 && currentPathObj.name === 'home') {\n      currentPathArr = [{\n        title: '首页',\n        path: '',\n        name: 'home_index'\n      }];\n    } else if (currentPathObj.children.length <= 1 && currentPathObj.name !== 'home') {\n      currentPathArr = [{\n        title: '首页',\n        path: '/home',\n        name: 'home_index'\n      }, {\n        title: currentPathObj.title,\n        path: '',\n        name: name\n      }];\n    } else {\n      var childObj = currentPathObj.children.filter(function (child) {\n        return child.name === name;\n      })[0];\n      currentPathArr = [{\n        title: '首页',\n        path: '/home',\n        name: 'home_index'\n      }, {\n        title: currentPathObj.title,\n        path: '',\n        name: currentPathObj.name\n      }, {\n        title: childObj.title,\n        path: currentPathObj.path + '/' + childObj.path,\n        name: name\n      }];\n    }\n  }\n\n  vm.$store.commit('setCurrentPath', currentPathArr);\n  return currentPathArr;\n};\n\nutil.openNewPage = function (vm, name, argu, query) {\n  var pageOpenedList = vm.$store.state.app.pageOpenedList;\n  var openedPageLen = pageOpenedList.length;\n  var i = 0;\n  var tagHasOpened = false;\n\n  while (i < openedPageLen) {\n    if (name === pageOpenedList[i].name) {\n      // 页面已经打开\n      vm.$store.commit('pageOpenedList', {\n        index: i,\n        argu: argu,\n        query: query\n      });\n      tagHasOpened = true;\n      break;\n    }\n\n    i++;\n  }\n\n  if (!tagHasOpened) {\n    var tag = vm.$store.state.app.tagsList.filter(function (item) {\n      if (item.children) {\n        return name === item.children[0].name;\n      } else {\n        return name === item.name;\n      }\n    });\n    tag = tag[0];\n\n    if (tag) {\n      tag = tag.children ? tag.children[0] : tag;\n\n      if (argu) {\n        tag.argu = argu;\n      }\n\n      if (query) {\n        tag.query = query;\n      }\n\n      vm.$store.commit('increateTag', tag);\n    }\n  }\n\n  vm.$store.commit('setCurrentPageName', name);\n};\n\nutil.toDefaultPage = function (routers, name, route, next) {\n  var len = routers.length;\n  var i = 0;\n  var notHandle = true;\n\n  while (i < len) {\n    if (routers[i].name === name && routers[i].children && routers[i].redirect === undefined) {\n      route.replace({\n        name: routers[i].children[0].name\n      });\n      notHandle = false;\n      next();\n      break;\n    }\n\n    i++;\n  }\n\n  if (notHandle) {\n    next();\n  }\n};\n\nutil.fullscreenEvent = function (vm) {\n  vm.$store.commit('initCachepage');\n}; // 将Csv文件解析为二维数组\n\n\nexport var getArrayFromFile = function getArrayFromFile(file) {\n  var nameSplit = file.name.split('.');\n  var format = nameSplit[nameSplit.length - 1];\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.readAsText(file); // 以文本格式读取\n\n    var arr = [];\n\n    reader.onload = function (evt) {\n      var data = evt.target.result; // 读到的数据\n\n      var pasteData = data.trim();\n      arr = pasteData.split(/[\\n\\u0085\\u2028\\u2029]|\\r\\n?/g).map(function (row) {\n        return row.split('\\t');\n      }).map(function (item) {\n        return item[0].split(',');\n      });\n      if (format === 'csv') resolve(arr);else reject(new Error('[Format Error]:不是Csv文件'));\n    };\n  });\n}; // 将二维数组转为表格数据\n\nexport var getTableDataFromArray = function getTableDataFromArray(array) {\n  var columns = [];\n  var tableData = [];\n\n  if (array.length > 1) {\n    var titles = array.shift();\n    columns = titles.map(function (item) {\n      return {\n        title: item,\n        key: item\n      };\n    });\n    tableData = array.map(function (item) {\n      var res = {};\n      item.forEach(function (col, i) {\n        res[titles[i]] = col;\n      });\n      return res;\n    });\n  }\n\n  return {\n    columns: columns,\n    tableData: tableData\n  };\n};\n\nutil.initRouter = function (vm) {\n  var constRoutes = [];\n  var otherRoutes = []; // 404路由需要和动态路由一起注入\n\n  var otherRouter = [{\n    path: '/*',\n    name: 'error-404',\n    meta: {\n      title: '404-页面不存在'\n    },\n    component: 'error-page/404'\n  }]; // 判断用户是否登录\n\n  var userInfo = Cookies.get('userInfo');\n\n  if (userInfo === null || userInfo === \"\" || userInfo === undefined) {\n    // 未登录\n    return;\n  }\n\n  var accessToken = window.localStorage.getItem('accessToken'); // 加载菜单\n\n  axios.get(getMenuList, {\n    headers: {\n      'accessToken': accessToken\n    }\n  }).then(function (res) {\n    var menuData = res.result;\n\n    if (menuData === null || menuData === \"\" || menuData === undefined) {\n      return;\n    }\n\n    util.initRouterNode(constRoutes, menuData);\n    util.initRouterNode(otherRoutes, otherRouter); // 添加主界面路由\n\n    vm.$store.commit('updateAppRouter', constRoutes.filter(function (item) {\n      return item.children.length > 0;\n    })); // 添加全局路由\n\n    vm.$store.commit('updateDefaultRouter', otherRoutes); // 刷新界面菜单\n\n    vm.$store.commit('updateMenulist', constRoutes.filter(function (item) {\n      return item.children.length > 0;\n    }));\n    var tagsList = [];\n    vm.$store.state.app.routers.map(function (item) {\n      if (item.children.length <= 1) {\n        tagsList.push(item.children[0]);\n      } else {\n        tagsList.push.apply(tagsList, _toConsumableArray(item.children));\n      }\n    });\n    vm.$store.commit('setTagsList', tagsList);\n  });\n}; // 生成路由节点\n\n\nutil.initRouterNode = function (routers, data) {\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = data[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var item = _step2.value;\n      var menu = Object.assign({}, item); // menu.component = import(`@/views/${menu.component}.vue`);\n\n      menu.component = lazyLoading(menu.component);\n\n      if (item.children && item.children.length > 0) {\n        menu.children = [];\n        util.initRouterNode(menu.children, item.children);\n      }\n\n      var meta = {}; // 给页面添加权限、标题、第三方网页链接\n\n      meta.permTypes = menu.permTypes ? menu.permTypes : null;\n      meta.title = menu.title ? menu.title + \" - \" + coreParameter.platformName : null;\n      meta.url = menu.url ? menu.url : null;\n      menu.meta = meta;\n      routers.push(menu);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n};\n\nexport default util;",{"version":3,"sources":["src\\libs\\util.js"],"names":["axios","getMenuList","coreParameter","lazyLoading","router","Cookies","util","title","platformName","window","document","millsToTime","mills","s","toFixed","m","h","d","month","year","inOf","arr","targetArr","res","forEach","indexOf","item","oneOf","ele","getRouterObjByName","routers","name","length","routerObj","children","handleTitle","vm","$t","i18n","setCurrentPath","isOtherRouter","$store","state","app","child","currentPathArr","path","currentPathObj","filter","i","childArr","len","childObj","commit","openNewPage","argu","query","pageOpenedList","openedPageLen","tagHasOpened","index","tag","tagsList","toDefaultPage","route","next","notHandle","redirect","undefined","replace","fullscreenEvent","getArrayFromFile","file","nameSplit","split","format","Promise","resolve","reject","reader","FileReader","readAsText","onload","evt","data","target","result","pasteData","trim","map","row","Error","getTableDataFromArray","array","columns","tableData","titles","shift","key","col","initRouter","constRoutes","otherRoutes","otherRouter","meta","component","userInfo","get","accessToken","localStorage","getItem","headers","then","menuData","initRouterNode","push","menu","Object","assign","permTypes","url"],"mappings":"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","sourceRoot":"D:\\zeyu\\zeyu-plus\\xboot-plus-front","sourcesContent":["import axios from 'axios';\r\nimport { getMenuList, coreParameter} from '@/api/index';\r\nimport lazyLoading from './lazyLoading.js';\r\nimport router from '@/router/index';\r\nimport Cookies from \"js-cookie\";\r\n\r\nlet util = {\r\n\r\n};\r\n\r\nutil.title = function (title) {\r\n    title = title || coreParameter.platformName;\r\n    window.document.title = title;\r\n};\r\n\r\nutil.millsToTime = function (mills) {\r\n    if (!mills) {\r\n        return \"\";\r\n    }\r\n    let s = mills / 1000;\r\n    if (s < 60) {\r\n        return s.toFixed(0) + \" 秒\"\r\n    }\r\n    let m = s / 60;\r\n    if (m < 60) {\r\n        return m.toFixed(0) + \" 分钟\"\r\n    }\r\n    let h = m / 60;\r\n    if (h < 24) {\r\n        return h.toFixed(0) + \" 小时\"\r\n    }\r\n    let d = h / 24;\r\n    if (d < 30) {\r\n        return d.toFixed(0)  + \" 天\"\r\n    }\r\n    let month = d / 30\r\n    if (month < 12) {\r\n        return month.toFixed(0)  + \" 月\"\r\n    }\r\n    let year = month / 12\r\n    return year.toFixed(0)  + \" 年\"\r\n\r\n};\r\n\r\nutil.inOf = function (arr, targetArr) {\r\n    let res = true;\r\n    arr.forEach(item => {\r\n        if (targetArr.indexOf(item) < 0) {\r\n            res = false;\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\nutil.oneOf = function (ele, targetArr) {\r\n    if (targetArr.indexOf(ele) >= 0) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nutil.getRouterObjByName = function (routers, name) {\r\n    if (!name || !routers || !routers.length) {\r\n        return null;\r\n    }\r\n    // debugger;\r\n    let routerObj = null;\r\n    for (let item of routers) {\r\n        if (item.name === name) {\r\n            return item;\r\n        }\r\n        routerObj = util.getRouterObjByName(item.children, name);\r\n        if (routerObj) {\r\n            return routerObj;\r\n        }\r\n    }\r\n    return null;\r\n};\r\n\r\nutil.handleTitle = function (vm, item) {\r\n    if (typeof item.title === 'object') {\r\n        return vm.$t(item.title.i18n);\r\n    } else {\r\n        return item.title;\r\n    }\r\n};\r\n\r\nutil.setCurrentPath = function (vm, name) {\r\n    let title = '';\r\n    let isOtherRouter = false;\r\n    vm.$store.state.app.routers.forEach(item => {\r\n        if (item.children.length === 1) {\r\n            if (item.children[0].name === name) {\r\n                title = util.handleTitle(vm, item);\r\n                if (item.name === 'otherRouter') {\r\n                    isOtherRouter = true;\r\n                }\r\n            }\r\n        } else {\r\n            item.children.forEach(child => {\r\n                if (child.name === name) {\r\n                    title = util.handleTitle(vm, child);\r\n                    if (item.name === 'otherRouter') {\r\n                        isOtherRouter = true;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    let currentPathArr = [];\r\n    if (name === 'home_index') {\r\n        currentPathArr = [\r\n            {\r\n                title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\r\n                path: '',\r\n                name: 'home_index'\r\n            }\r\n        ];\r\n    } else if ((name.indexOf('_index') >= 0 || isOtherRouter) && name !== 'home_index') {\r\n        currentPathArr = [\r\n            {\r\n                title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\r\n                path: '/home',\r\n                name: 'home_index'\r\n            },\r\n            {\r\n                title: title,\r\n                path: '',\r\n                name: name\r\n            }\r\n        ];\r\n    } else {\r\n        let currentPathObj = vm.$store.state.app.routers.filter(item => {\r\n            if (item.children.length <= 1) {\r\n                return item.children[0].name === name;\r\n            } else {\r\n                let i = 0;\r\n                let childArr = item.children;\r\n                let len = childArr.length;\r\n                while (i < len) {\r\n                    if (childArr[i].name === name) {\r\n                        return true;\r\n                    }\r\n                    i++;\r\n                }\r\n                return false;\r\n            }\r\n        })[0];\r\n        if (currentPathObj.children.length <= 1 && currentPathObj.name === 'home') {\r\n            currentPathArr = [\r\n                {\r\n                    title: '首页',\r\n                    path: '',\r\n                    name: 'home_index'\r\n                }\r\n            ];\r\n        } else if (currentPathObj.children.length <= 1 && currentPathObj.name !== 'home') {\r\n            currentPathArr = [\r\n                {\r\n                    title: '首页',\r\n                    path: '/home',\r\n                    name: 'home_index'\r\n                },\r\n                {\r\n                    title: currentPathObj.title,\r\n                    path: '',\r\n                    name: name\r\n                }\r\n            ];\r\n        } else {\r\n            let childObj = currentPathObj.children.filter((child) => {\r\n                return child.name === name;\r\n            })[0];\r\n            currentPathArr = [\r\n                {\r\n                    title: '首页',\r\n                    path: '/home',\r\n                    name: 'home_index'\r\n                },\r\n                {\r\n                    title: currentPathObj.title,\r\n                    path: '',\r\n                    name: currentPathObj.name\r\n                },\r\n                {\r\n                    title: childObj.title,\r\n                    path: currentPathObj.path + '/' + childObj.path,\r\n                    name: name\r\n                }\r\n            ];\r\n        }\r\n    }\r\n    vm.$store.commit('setCurrentPath', currentPathArr);\r\n\r\n    return currentPathArr;\r\n};\r\n\r\nutil.openNewPage = function (vm, name, argu, query) {\r\n    let pageOpenedList = vm.$store.state.app.pageOpenedList;\r\n    let openedPageLen = pageOpenedList.length;\r\n    let i = 0;\r\n    let tagHasOpened = false;\r\n    while (i < openedPageLen) {\r\n        if (name === pageOpenedList[i].name) { // 页面已经打开\r\n            vm.$store.commit('pageOpenedList', {\r\n                index: i,\r\n                argu: argu,\r\n                query: query\r\n            });\r\n            tagHasOpened = true;\r\n            break;\r\n        }\r\n        i++;\r\n    }\r\n    if (!tagHasOpened) {\r\n        let tag = vm.$store.state.app.tagsList.filter((item) => {\r\n            if (item.children) {\r\n                return name === item.children[0].name;\r\n            } else {\r\n                return name === item.name;\r\n            }\r\n        });\r\n        tag = tag[0];\r\n        if (tag) {\r\n            tag = tag.children ? tag.children[0] : tag;\r\n            if (argu) {\r\n                tag.argu = argu;\r\n            }\r\n            if (query) {\r\n                tag.query = query;\r\n            }\r\n            vm.$store.commit('increateTag', tag);\r\n        }\r\n    }\r\n    vm.$store.commit('setCurrentPageName', name);\r\n};\r\n\r\nutil.toDefaultPage = function (routers, name, route, next) {\r\n    let len = routers.length;\r\n    let i = 0;\r\n    let notHandle = true;\r\n    while (i < len) {\r\n        if (routers[i].name === name && routers[i].children && routers[i].redirect === undefined) {\r\n            route.replace({\r\n                name: routers[i].children[0].name\r\n            });\r\n            notHandle = false;\r\n            next();\r\n            break;\r\n        }\r\n        i++;\r\n    }\r\n    if (notHandle) {\r\n        next();\r\n    }\r\n};\r\n\r\nutil.fullscreenEvent = function (vm) {\r\n    vm.$store.commit('initCachepage');\r\n};\r\n\r\n// 将Csv文件解析为二维数组\r\nexport const getArrayFromFile = (file) => {\r\n    let nameSplit = file.name.split('.')\r\n    let format = nameSplit[nameSplit.length - 1]\r\n    return new Promise((resolve, reject) => {\r\n        let reader = new FileReader()\r\n        reader.readAsText(file) // 以文本格式读取\r\n        let arr = []\r\n        reader.onload = function (evt) {\r\n            let data = evt.target.result // 读到的数据\r\n            let pasteData = data.trim()\r\n            arr = pasteData.split((/[\\n\\u0085\\u2028\\u2029]|\\r\\n?/g)).map(row => {\r\n                return row.split('\\t')\r\n            }).map(item => {\r\n                return item[0].split(',')\r\n            })\r\n            if (format === 'csv') resolve(arr)\r\n            else reject(new Error('[Format Error]:不是Csv文件'))\r\n        }\r\n    })\r\n}\r\n\r\n// 将二维数组转为表格数据\r\nexport const getTableDataFromArray = (array) => {\r\n    let columns = []\r\n    let tableData = []\r\n    if (array.length > 1) {\r\n        let titles = array.shift()\r\n        columns = titles.map(item => {\r\n            return {\r\n                title: item,\r\n                key: item\r\n            }\r\n        })\r\n        tableData = array.map(item => {\r\n            let res = {}\r\n            item.forEach((col, i) => {\r\n                res[titles[i]] = col\r\n            })\r\n            return res\r\n        })\r\n    }\r\n    return {\r\n        columns,\r\n        tableData\r\n    }\r\n}\r\n\r\nutil.initRouter = function (vm) {\r\n    const constRoutes = [];\r\n    const otherRoutes = [];\r\n\r\n    // 404路由需要和动态路由一起注入\r\n    const otherRouter = [{\r\n        path: '/*',\r\n        name: 'error-404',\r\n        meta: {\r\n            title: '404-页面不存在'\r\n        },\r\n        component: 'error-page/404'\r\n    }];\r\n\r\n    // 判断用户是否登录\r\n    let userInfo = Cookies.get('userInfo')\r\n    if (userInfo === null || userInfo === \"\" || userInfo === undefined) {\r\n        // 未登录\r\n        return;\r\n    }\r\n    let accessToken = window.localStorage.getItem('accessToken')\r\n    // 加载菜单\r\n    axios.get(getMenuList, { headers: { 'accessToken': accessToken } }).then(res => {\r\n        let menuData = res.result;\r\n        if (menuData === null || menuData === \"\" || menuData === undefined) {\r\n            return;\r\n        }\r\n        util.initRouterNode(constRoutes, menuData);\r\n        util.initRouterNode(otherRoutes, otherRouter);\r\n        // 添加主界面路由\r\n        vm.$store.commit('updateAppRouter', constRoutes.filter(item => item.children.length > 0));\r\n        // 添加全局路由\r\n        vm.$store.commit('updateDefaultRouter', otherRoutes);\r\n        // 刷新界面菜单\r\n        vm.$store.commit('updateMenulist', constRoutes.filter(item => item.children.length > 0));\r\n\r\n        let tagsList = [];\r\n        vm.$store.state.app.routers.map((item) => {\r\n            if (item.children.length <= 1) {\r\n                tagsList.push(item.children[0]);\r\n            } else {\r\n                tagsList.push(...item.children);\r\n            }\r\n        });\r\n        vm.$store.commit('setTagsList', tagsList);\r\n    });\r\n};\r\n\r\n// 生成路由节点\r\nutil.initRouterNode = function (routers, data) {\r\n    for (var item of data) {\r\n        let menu = Object.assign({}, item);\r\n        // menu.component = import(`@/views/${menu.component}.vue`);\r\n        menu.component = lazyLoading(menu.component);\r\n\r\n        if (item.children && item.children.length > 0) {\r\n            menu.children = [];\r\n            util.initRouterNode(menu.children, item.children);\r\n        }\r\n\r\n\r\n        let meta = {};\r\n        // 给页面添加权限、标题、第三方网页链接\r\n        meta.permTypes = menu.permTypes ? menu.permTypes : null;\r\n        meta.title = menu.title ? menu.title + \" - \"+coreParameter.platformName : null;\r\n        meta.url = menu.url ? menu.url : null;\r\n        menu.meta = meta;\r\n\r\n        routers.push(menu);\r\n    }\r\n};\r\n\r\nexport default util;\r\n"]}]}